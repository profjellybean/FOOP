var Wa=Object.defineProperty;var qa=(e,t,n)=>t in e?Wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ye=(e,t,n)=>(qa(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yr(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function Qr(e){if(H(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=de(r)?Za(r):Qr(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(de(e))return e;if(le(e))return e}}const Ya=/;(?![^(]*\))/g,Qa=/:([^]+)/,Xa=/\/\*.*?\*\//gs;function Za(e){const t={};return e.replace(Xa,"").split(Ya).forEach(n=>{if(n){const r=n.split(Qa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xr(e){let t="";if(de(e))t=e;else if(H(e))for(let n=0;n<e.length;n++){const r=Xr(e[n]);r&&(t+=r+" ")}else if(le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ec="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tc=Yr(ec);function Zo(e){return!!e||e===""}const Xp=e=>de(e)?e:e==null?"":H(e)||le(e)&&(e.toString===rs||!V(e.toString))?JSON.stringify(e,es,2):String(e),es=(e,t)=>t&&t.__v_isRef?es(e,t.value):$t(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:ts(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!H(t)&&!is(t)?String(t):t,ce={},Ft=[],He=()=>{},nc=()=>!1,rc=/^on[^a-z]/,rr=e=>rc.test(e),Zr=e=>e.startsWith("onUpdate:"),Re=Object.assign,ei=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ic=Object.prototype.hasOwnProperty,Y=(e,t)=>ic.call(e,t),H=Array.isArray,$t=e=>ir(e)==="[object Map]",ts=e=>ir(e)==="[object Set]",V=e=>typeof e=="function",de=e=>typeof e=="string",ti=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",ns=e=>le(e)&&V(e.then)&&V(e.catch),rs=Object.prototype.toString,ir=e=>rs.call(e),oc=e=>ir(e).slice(8,-1),is=e=>ir(e)==="[object Object]",ni=e=>de(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bn=Yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),or=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sc=/-(\w)/g,nt=or(e=>e.replace(sc,(t,n)=>n?n.toUpperCase():"")),ac=/\B([A-Z])/g,At=or(e=>e.replace(ac,"-$1").toLowerCase()),sr=or(e=>e.charAt(0).toUpperCase()+e.slice(1)),mr=or(e=>e?`on${sr(e)}`:""),mn=(e,t)=>!Object.is(e,t),gr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Kn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},cc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ii;const lc=()=>Ii||(Ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let we;class os{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=we,!t&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=we;try{return we=this,t()}finally{we=n}}}on(){we=this}off(){we=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function fc(e){return new os(e)}function uc(e,t=we){t&&t.active&&t.effects.push(e)}function ss(){return we}function pc(e){we&&we.cleanups.push(e)}const ri=e=>{const t=new Set(e);return t.w=0,t.n=0,t},as=e=>(e.w&Ct)>0,cs=e=>(e.n&Ct)>0,dc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ct},hc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];as(i)&&!cs(i)?i.delete(e):t[n++]=i,i.w&=~Ct,i.n&=~Ct}t.length=n}},Vn=new WeakMap;let rn=0,Ct=1;const kr=30;let Ue;const Mt=Symbol(""),Or=Symbol("");class ii{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,uc(this,r)}run(){if(!this.active)return this.fn();let t=Ue,n=_t;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ue,Ue=this,_t=!0,Ct=1<<++rn,rn<=kr?dc(this):Ai(this),this.fn()}finally{rn<=kr&&hc(this),Ct=1<<--rn,Ue=this.parent,_t=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ue===this?this.deferStop=!0:this.active&&(Ai(this),this.onStop&&this.onStop(),this.active=!1)}}function Ai(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let _t=!0;const ls=[];function qt(){ls.push(_t),_t=!1}function Yt(){const e=ls.pop();_t=e===void 0?!0:e}function Ie(e,t,n){if(_t&&Ue){let r=Vn.get(e);r||Vn.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=ri()),fs(i)}}function fs(e,t){let n=!1;rn<=kr?cs(e)||(e.n|=Ct,n=!as(e)):n=!e.has(Ue),n&&(e.add(Ue),Ue.deps.push(e))}function pt(e,t,n,r,i,o){const s=Vn.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&H(e)){const a=Number(r);s.forEach((c,f)=>{(f==="length"||f>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),t){case"add":H(e)?ni(n)&&l.push(s.get("length")):(l.push(s.get(Mt)),$t(e)&&l.push(s.get(Or)));break;case"delete":H(e)||(l.push(s.get(Mt)),$t(e)&&l.push(s.get(Or)));break;case"set":$t(e)&&l.push(s.get(Mt));break}if(l.length===1)l[0]&&Mr(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Mr(ri(a))}}function Mr(e,t){const n=H(e)?e:[...e];for(const r of n)r.computed&&wi(r);for(const r of n)r.computed||wi(r)}function wi(e,t){(e!==Ue||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function mc(e,t){var n;return(n=Vn.get(e))===null||n===void 0?void 0:n.get(t)}const gc=Yr("__proto__,__v_isRef,__isVue"),us=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ti)),vc=oi(),yc=oi(!1,!0),_c=oi(!0),ji=bc();function bc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=X(this);for(let o=0,s=this.length;o<s;o++)Ie(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(X)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qt();const r=X(this)[t].apply(this,n);return Yt(),r}}),e}function Cc(e){const t=X(this);return Ie(t,"has",e),t.hasOwnProperty(e)}function oi(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Lc:gs:t?ms:hs).get(r))return r;const s=H(r);if(!e){if(s&&Y(ji,i))return Reflect.get(ji,i,o);if(i==="hasOwnProperty")return Cc}const l=Reflect.get(r,i,o);return(ti(i)?us.has(i):gc(i))||(e||Ie(r,"get",i),t)?l:he(l)?s&&ni(i)?l:l.value:le(l)?e?ci(l):dt(l):l}}const Sc=ps(),Tc=ps(!0);function ps(e=!1){return function(n,r,i,o){let s=n[r];if(Gt(s)&&he(s)&&!he(i))return!1;if(!e&&(!Jn(i)&&!Gt(i)&&(s=X(s),i=X(i)),!H(n)&&he(s)&&!he(i)))return s.value=i,!0;const l=H(n)&&ni(r)?Number(r)<n.length:Y(n,r),a=Reflect.set(n,r,i,o);return n===X(o)&&(l?mn(i,s)&&pt(n,"set",r,i):pt(n,"add",r,i)),a}}function Ec(e,t){const n=Y(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&pt(e,"delete",t,void 0),r}function Pc(e,t){const n=Reflect.has(e,t);return(!ti(t)||!us.has(t))&&Ie(e,"has",t),n}function Rc(e){return Ie(e,"iterate",H(e)?"length":Mt),Reflect.ownKeys(e)}const ds={get:vc,set:Sc,deleteProperty:Ec,has:Pc,ownKeys:Rc},xc={get:_c,set(e,t){return!0},deleteProperty(e,t){return!0}},kc=Re({},ds,{get:yc,set:Tc}),si=e=>e,ar=e=>Reflect.getPrototypeOf(e);function xn(e,t,n=!1,r=!1){e=e.__v_raw;const i=X(e),o=X(t);n||(t!==o&&Ie(i,"get",t),Ie(i,"get",o));const{has:s}=ar(i),l=r?si:n?ui:gn;if(s.call(i,t))return l(e.get(t));if(s.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function kn(e,t=!1){const n=this.__v_raw,r=X(n),i=X(e);return t||(e!==i&&Ie(r,"has",e),Ie(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function On(e,t=!1){return e=e.__v_raw,!t&&Ie(X(e),"iterate",Mt),Reflect.get(e,"size",e)}function Bi(e){e=X(e);const t=X(this);return ar(t).has.call(t,e)||(t.add(e),pt(t,"add",e,e)),this}function Li(e,t){t=X(t);const n=X(this),{has:r,get:i}=ar(n);let o=r.call(n,e);o||(e=X(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?mn(t,s)&&pt(n,"set",e,t):pt(n,"add",e,t),this}function Fi(e){const t=X(this),{has:n,get:r}=ar(t);let i=n.call(t,e);i||(e=X(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&pt(t,"delete",e,void 0),o}function $i(){const e=X(this),t=e.size!==0,n=e.clear();return t&&pt(e,"clear",void 0,void 0),n}function Mn(e,t){return function(r,i){const o=this,s=o.__v_raw,l=X(s),a=t?si:e?ui:gn;return!e&&Ie(l,"iterate",Mt),s.forEach((c,f)=>r.call(i,a(c),a(f),o))}}function Dn(e,t,n){return function(...r){const i=this.__v_raw,o=X(i),s=$t(o),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=i[e](...r),f=n?si:t?ui:gn;return!t&&Ie(o,"iterate",a?Or:Mt),{next(){const{value:u,done:p}=c.next();return p?{value:u,done:p}:{value:l?[f(u[0]),f(u[1])]:f(u),done:p}},[Symbol.iterator](){return this}}}}function mt(e){return function(...t){return e==="delete"?!1:this}}function Oc(){const e={get(o){return xn(this,o)},get size(){return On(this)},has:kn,add:Bi,set:Li,delete:Fi,clear:$i,forEach:Mn(!1,!1)},t={get(o){return xn(this,o,!1,!0)},get size(){return On(this)},has:kn,add:Bi,set:Li,delete:Fi,clear:$i,forEach:Mn(!1,!0)},n={get(o){return xn(this,o,!0)},get size(){return On(this,!0)},has(o){return kn.call(this,o,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:Mn(!0,!1)},r={get(o){return xn(this,o,!0,!0)},get size(){return On(this,!0)},has(o){return kn.call(this,o,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:Mn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Dn(o,!1,!1),n[o]=Dn(o,!0,!1),t[o]=Dn(o,!1,!0),r[o]=Dn(o,!0,!0)}),[e,n,t,r]}const[Mc,Dc,Ic,Ac]=Oc();function ai(e,t){const n=t?e?Ac:Ic:e?Dc:Mc;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Y(n,i)&&i in r?n:r,i,o)}const wc={get:ai(!1,!1)},jc={get:ai(!1,!0)},Bc={get:ai(!0,!1)},hs=new WeakMap,ms=new WeakMap,gs=new WeakMap,Lc=new WeakMap;function Fc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $c(e){return e.__v_skip||!Object.isExtensible(e)?0:Fc(oc(e))}function dt(e){return Gt(e)?e:li(e,!1,ds,wc,hs)}function Nc(e){return li(e,!1,kc,jc,ms)}function ci(e){return li(e,!0,xc,Bc,gs)}function li(e,t,n,r,i){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=$c(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return i.set(e,l),l}function Nt(e){return Gt(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function Jn(e){return!!(e&&e.__v_isShallow)}function vs(e){return Nt(e)||Gt(e)}function X(e){const t=e&&e.__v_raw;return t?X(t):e}function fi(e){return Kn(e,"__v_skip",!0),e}const gn=e=>le(e)?dt(e):e,ui=e=>le(e)?ci(e):e;function ys(e){_t&&Ue&&(e=X(e),fs(e.dep||(e.dep=ri())))}function pi(e,t){e=X(e);const n=e.dep;n&&Mr(n)}function he(e){return!!(e&&e.__v_isRef===!0)}function Le(e){return _s(e,!1)}function Uc(e){return _s(e,!0)}function _s(e,t){return he(e)?e:new zc(e,t)}class zc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:X(t),this._value=n?t:gn(t)}get value(){return ys(this),this._value}set value(t){const n=this.__v_isShallow||Jn(t)||Gt(t);t=n?t:X(t),mn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:gn(t),pi(this))}}function Zp(e){pi(e)}function et(e){return he(e)?e.value:e}const Gc={get:(e,t,n)=>et(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return he(i)&&!he(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function bs(e){return Nt(e)?e:new Proxy(e,Gc)}function Hc(e){const t=H(e)?new Array(e.length):{};for(const n in e)t[n]=Vc(e,n);return t}class Kc{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return mc(X(this._object),this._key)}}function Vc(e,t,n){const r=e[t];return he(r)?r:new Kc(e,t,n)}var Cs;class Jc{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Cs]=!1,this._dirty=!0,this.effect=new ii(t,()=>{this._dirty||(this._dirty=!0,pi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=X(this);return ys(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Cs="__v_isReadonly";function Wc(e,t,n=!1){let r,i;const o=V(e);return o?(r=e,i=He):(r=e.get,i=e.set),new Jc(r,i,o||!i,n)}function bt(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){cr(o,t,n)}return i}function Ke(e,t,n,r){if(V(e)){const o=bt(e,t,n,r);return o&&ns(o)&&o.catch(s=>{cr(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Ke(e[o],t,n,r));return i}function cr(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,s,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){bt(a,null,10,[e,s,l]);return}}qc(e,n,i,r)}function qc(e,t,n,r=!0){console.error(e)}let vn=!1,Dr=!1;const Se=[];let Ze=0;const Ut=[];let ct=null,xt=0;const Ss=Promise.resolve();let di=null;function hi(e){const t=di||Ss;return e?t.then(this?e.bind(this):e):t}function Yc(e){let t=Ze+1,n=Se.length;for(;t<n;){const r=t+n>>>1;yn(Se[r])<e?t=r+1:n=r}return t}function mi(e){(!Se.length||!Se.includes(e,vn&&e.allowRecurse?Ze+1:Ze))&&(e.id==null?Se.push(e):Se.splice(Yc(e.id),0,e),Ts())}function Ts(){!vn&&!Dr&&(Dr=!0,di=Ss.then(Ps))}function Qc(e){const t=Se.indexOf(e);t>Ze&&Se.splice(t,1)}function Xc(e){H(e)?Ut.push(...e):(!ct||!ct.includes(e,e.allowRecurse?xt+1:xt))&&Ut.push(e),Ts()}function Ni(e,t=vn?Ze+1:0){for(;t<Se.length;t++){const n=Se[t];n&&n.pre&&(Se.splice(t,1),t--,n())}}function Es(e){if(Ut.length){const t=[...new Set(Ut)];if(Ut.length=0,ct){ct.push(...t);return}for(ct=t,ct.sort((n,r)=>yn(n)-yn(r)),xt=0;xt<ct.length;xt++)ct[xt]();ct=null,xt=0}}const yn=e=>e.id==null?1/0:e.id,Zc=(e,t)=>{const n=yn(e)-yn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ps(e){Dr=!1,vn=!0,Se.sort(Zc);const t=He;try{for(Ze=0;Ze<Se.length;Ze++){const n=Se[Ze];n&&n.active!==!1&&bt(n,null,14)}}finally{Ze=0,Se.length=0,Es(),vn=!1,di=null,(Se.length||Ut.length)&&Ps()}}function el(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ce;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:u,trim:p}=r[f]||ce;p&&(i=n.map(m=>de(m)?m.trim():m)),u&&(i=n.map(cc))}let l,a=r[l=mr(t)]||r[l=mr(nt(t))];!a&&o&&(a=r[l=mr(At(t))]),a&&Ke(a,e,6,i);const c=r[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ke(c,e,6,i)}}function Rs(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},l=!1;if(!V(e)){const a=c=>{const f=Rs(c,t,!0);f&&(l=!0,Re(s,f))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(le(e)&&r.set(e,null),null):(H(o)?o.forEach(a=>s[a]=null):Re(s,o),le(e)&&r.set(e,s),s)}function lr(e,t){return!e||!rr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,At(t))||Y(e,t))}let Be=null,xs=null;function Wn(e){const t=Be;return Be=e,xs=e&&e.type.__scopeId||null,t}function tl(e,t=Be,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&qi(-1);const o=Wn(t);let s;try{s=e(...i)}finally{Wn(o),r._d&&qi(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function vr(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:f,renderCache:u,data:p,setupState:m,ctx:g,inheritAttrs:v}=e;let C,y;const E=Wn(e);try{if(n.shapeFlag&4){const w=i||r;C=Xe(f.call(w,w,u,o,m,p,g)),y=a}else{const w=t;C=Xe(w.length>1?w(o,{attrs:a,slots:l,emit:c}):w(o,null)),y=t.props?a:nl(a)}}catch(w){fn.length=0,cr(w,e,1),C=De(It)}let O=C;if(y&&v!==!1){const w=Object.keys(y),{shapeFlag:z}=O;w.length&&z&7&&(s&&w.some(Zr)&&(y=rl(y,s)),O=Ht(O,y))}return n.dirs&&(O=Ht(O),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&(O.transition=n.transition),C=O,Wn(E),C}const nl=e=>{let t;for(const n in e)(n==="class"||n==="style"||rr(n))&&((t||(t={}))[n]=e[n]);return t},rl=(e,t)=>{const n={};for(const r in e)(!Zr(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function il(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Ui(r,s,c):!!s;if(a&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const p=f[u];if(s[p]!==r[p]&&!lr(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?Ui(r,s,c):!0:!!s;return!1}function Ui(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!lr(n,o))return!0}return!1}function ol({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const sl=e=>e.__isSuspense;function al(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):Xc(e)}function Ln(e,t){if(ue){let n=ue.provides;const r=ue.parent&&ue.parent.provides;r===n&&(n=ue.provides=Object.create(r)),n[e]=t}}function tt(e,t,n=!1){const r=ue||Be;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&V(t)?t.call(r.proxy):t}}const In={};function zt(e,t,n){return ks(e,t,n)}function ks(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=ce){const l=ss()===(ue==null?void 0:ue.scope)?ue:null;let a,c=!1,f=!1;if(he(e)?(a=()=>e.value,c=Jn(e)):Nt(e)?(a=()=>e,r=!0):H(e)?(f=!0,c=e.some(O=>Nt(O)||Jn(O)),a=()=>e.map(O=>{if(he(O))return O.value;if(Nt(O))return Lt(O);if(V(O))return bt(O,l,2)})):V(e)?t?a=()=>bt(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return u&&u(),Ke(e,l,3,[p])}:a=He,t&&r){const O=a;a=()=>Lt(O())}let u,p=O=>{u=y.onStop=()=>{bt(O,l,4)}},m;if(bn)if(p=He,t?n&&Ke(t,l,3,[a(),f?[]:void 0,p]):a(),i==="sync"){const O=tf();m=O.__watcherHandles||(O.__watcherHandles=[])}else return He;let g=f?new Array(e.length).fill(In):In;const v=()=>{if(y.active)if(t){const O=y.run();(r||c||(f?O.some((w,z)=>mn(w,g[z])):mn(O,g)))&&(u&&u(),Ke(t,l,3,[O,g===In?void 0:f&&g[0]===In?[]:g,p]),g=O)}else y.run()};v.allowRecurse=!!t;let C;i==="sync"?C=v:i==="post"?C=()=>Oe(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),C=()=>mi(v));const y=new ii(a,C);t?n?v():g=y.run():i==="post"?Oe(y.run.bind(y),l&&l.suspense):y.run();const E=()=>{y.stop(),l&&l.scope&&ei(l.scope.effects,y)};return m&&m.push(E),E}function cl(e,t,n){const r=this.proxy,i=de(e)?e.includes(".")?Os(r,e):()=>r[e]:e.bind(r,r);let o;V(t)?o=t:(o=t.handler,n=t);const s=ue;Kt(this);const l=ks(i,o.bind(r),n);return s?Kt(s):Dt(),l}function Os(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Lt(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),he(e))Lt(e.value,t);else if(H(e))for(let n=0;n<e.length;n++)Lt(e[n],t);else if(ts(e)||$t(e))e.forEach(n=>{Lt(n,t)});else if(is(e))for(const n in e)Lt(e[n],t);return e}function Tn(e){return V(e)?{setup:e,name:e.name}:e}const Fn=e=>!!e.type.__asyncLoader,Ms=e=>e.type.__isKeepAlive;function ll(e,t){Ds(e,"a",t)}function fl(e,t){Ds(e,"da",t)}function Ds(e,t,n=ue){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(fr(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ms(i.parent.vnode)&&ul(r,t,n,i),i=i.parent}}function ul(e,t,n,r){const i=fr(t,e,r,!0);As(()=>{ei(r[t],i)},n)}function fr(e,t,n=ue,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;qt(),Kt(n);const l=Ke(t,n,e,s);return Dt(),Yt(),l});return r?i.unshift(o):i.push(o),o}}const ht=e=>(t,n=ue)=>(!bn||e==="sp")&&fr(e,(...r)=>t(...r),n),pl=ht("bm"),gi=ht("m"),dl=ht("bu"),Is=ht("u"),hl=ht("bum"),As=ht("um"),ml=ht("sp"),gl=ht("rtg"),vl=ht("rtc");function yl(e,t=ue){fr("ec",e,t)}function St(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[r];a&&(qt(),Ke(a,n,8,[e.el,l,e,t]),Yt())}}const ws="components";function ed(e,t){return bl(ws,e,!0,t)||e}const _l=Symbol();function bl(e,t,n=!0,r=!1){const i=Be||ue;if(i){const o=i.type;if(e===ws){const l=Xl(o,!1);if(l&&(l===t||l===nt(t)||l===sr(nt(t))))return o}const s=zi(i[e]||o[e],t)||zi(i.appContext[e],t);return!s&&r?o:s}}function zi(e,t){return e&&(e[t]||e[nt(t)]||e[sr(nt(t))])}function td(e,t,n,r){let i;const o=n&&n[r];if(H(e)||de(e)){i=new Array(e.length);for(let s=0,l=e.length;s<l;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(le(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];i[l]=t(e[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}const Ir=e=>e?Vs(e)?Ci(e)||e.proxy:Ir(e.parent):null,ln=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ir(e.parent),$root:e=>Ir(e.root),$emit:e=>e.emit,$options:e=>vi(e),$forceUpdate:e=>e.f||(e.f=()=>mi(e.update)),$nextTick:e=>e.n||(e.n=hi.bind(e.proxy)),$watch:e=>cl.bind(e)}),yr=(e,t)=>e!==ce&&!e.__isScriptSetup&&Y(e,t),Cl={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(yr(r,t))return s[t]=1,r[t];if(i!==ce&&Y(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Y(c,t))return s[t]=3,o[t];if(n!==ce&&Y(n,t))return s[t]=4,n[t];Ar&&(s[t]=0)}}const f=ln[t];let u,p;if(f)return t==="$attrs"&&Ie(e,"get",t),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==ce&&Y(n,t))return s[t]=4,n[t];if(p=a.config.globalProperties,Y(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return yr(i,t)?(i[t]=n,!0):r!==ce&&Y(r,t)?(r[t]=n,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||e!==ce&&Y(e,s)||yr(t,s)||(l=o[0])&&Y(l,s)||Y(r,s)||Y(ln,s)||Y(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Y(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ar=!0;function Sl(e){const t=vi(e),n=e.proxy,r=e.ctx;Ar=!1,t.beforeCreate&&Gi(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:c,created:f,beforeMount:u,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:C,beforeDestroy:y,beforeUnmount:E,destroyed:O,unmounted:w,render:z,renderTracked:q,renderTriggered:oe,errorCaptured:ne,serverPrefetch:it,expose:N,inheritAttrs:Fe,components:be,directives:Je,filters:me}=t;if(c&&Tl(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const Q in s){const J=s[Q];V(J)&&(r[Q]=J.bind(n))}if(i){const Q=i.call(n,n);le(Q)&&(e.data=dt(Q))}if(Ar=!0,o)for(const Q in o){const J=o[Q],ke=V(J)?J.bind(n,n):V(J.get)?J.get.bind(n,n):He,We=!V(J)&&V(J.set)?J.set.bind(n):He,Ee=ae({get:ke,set:We});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:ge=>Ee.value=ge})}if(l)for(const Q in l)js(l[Q],r,n,Q);if(a){const Q=V(a)?a.call(n):a;Reflect.ownKeys(Q).forEach(J=>{Ln(J,Q[J])})}f&&Gi(f,e,"c");function se(Q,J){H(J)?J.forEach(ke=>Q(ke.bind(n))):J&&Q(J.bind(n))}if(se(pl,u),se(gi,p),se(dl,m),se(Is,g),se(ll,v),se(fl,C),se(yl,ne),se(vl,q),se(gl,oe),se(hl,E),se(As,w),se(ml,it),H(N))if(N.length){const Q=e.exposed||(e.exposed={});N.forEach(J=>{Object.defineProperty(Q,J,{get:()=>n[J],set:ke=>n[J]=ke})})}else e.exposed||(e.exposed={});z&&e.render===He&&(e.render=z),Fe!=null&&(e.inheritAttrs=Fe),be&&(e.components=be),Je&&(e.directives=Je)}function Tl(e,t,n=He,r=!1){H(e)&&(e=wr(e));for(const i in e){const o=e[i];let s;le(o)?"default"in o?s=tt(o.from||i,o.default,!0):s=tt(o.from||i):s=tt(o),he(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[i]=s}}function Gi(e,t,n){Ke(H(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function js(e,t,n,r){const i=r.includes(".")?Os(n,r):()=>n[r];if(de(e)){const o=t[e];V(o)&&zt(i,o)}else if(V(e))zt(i,e.bind(n));else if(le(e))if(H(e))e.forEach(o=>js(o,t,n,r));else{const o=V(e.handler)?e.handler.bind(n):t[e.handler];V(o)&&zt(i,o,e)}}function vi(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let a;return l?a=l:!i.length&&!n&&!r?a=t:(a={},i.length&&i.forEach(c=>qn(a,c,s,!0)),qn(a,t,s)),le(t)&&o.set(t,a),a}function qn(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&qn(e,o,n,!0),i&&i.forEach(s=>qn(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=El[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const El={data:Hi,props:Rt,emits:Rt,methods:Rt,computed:Rt,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:Rt,directives:Rt,watch:Rl,provide:Hi,inject:Pl};function Hi(e,t){return t?e?function(){return Re(V(e)?e.call(this,this):e,V(t)?t.call(this,this):t)}:t:e}function Pl(e,t){return Rt(wr(e),wr(t))}function wr(e){if(H(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function Rt(e,t){return e?Re(Re(Object.create(null),e),t):t}function Rl(e,t){if(!e)return t;if(!t)return e;const n=Re(Object.create(null),e);for(const r in t)n[r]=Pe(e[r],t[r]);return n}function xl(e,t,n,r=!1){const i={},o={};Kn(o,pr,1),e.propsDefaults=Object.create(null),Bs(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Nc(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function kl(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,l=X(i),[a]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let p=f[u];if(lr(e.emitsOptions,p))continue;const m=t[p];if(a)if(Y(o,p))m!==o[p]&&(o[p]=m,c=!0);else{const g=nt(p);i[g]=jr(a,l,g,m,e,!1)}else m!==o[p]&&(o[p]=m,c=!0)}}}else{Bs(e,t,i,o)&&(c=!0);let f;for(const u in l)(!t||!Y(t,u)&&((f=At(u))===u||!Y(t,f)))&&(a?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=jr(a,l,u,void 0,e,!0)):delete i[u]);if(o!==l)for(const u in o)(!t||!Y(t,u))&&(delete o[u],c=!0)}c&&pt(e,"set","$attrs")}function Bs(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(Bn(a))continue;const c=t[a];let f;i&&Y(i,f=nt(a))?!o||!o.includes(f)?n[f]=c:(l||(l={}))[f]=c:lr(e.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,s=!0)}if(o){const a=X(n),c=l||ce;for(let f=0;f<o.length;f++){const u=o[f];n[u]=jr(i,a,u,c[u],e,!Y(c,u))}}return s}function jr(e,t,n,r,i,o){const s=e[n];if(s!=null){const l=Y(s,"default");if(l&&r===void 0){const a=s.default;if(s.type!==Function&&V(a)){const{propsDefaults:c}=i;n in c?r=c[n]:(Kt(i),r=c[n]=a.call(null,t),Dt())}else r=a}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===At(n))&&(r=!0))}return r}function Ls(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},l=[];let a=!1;if(!V(e)){const f=u=>{a=!0;const[p,m]=Ls(u,t,!0);Re(s,p),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!a)return le(e)&&r.set(e,Ft),Ft;if(H(o))for(let f=0;f<o.length;f++){const u=nt(o[f]);Ki(u)&&(s[u]=ce)}else if(o)for(const f in o){const u=nt(f);if(Ki(u)){const p=o[f],m=s[u]=H(p)||V(p)?{type:p}:Object.assign({},p);if(m){const g=Wi(Boolean,m.type),v=Wi(String,m.type);m[0]=g>-1,m[1]=v<0||g<v,(g>-1||Y(m,"default"))&&l.push(u)}}}const c=[s,l];return le(e)&&r.set(e,c),c}function Ki(e){return e[0]!=="$"}function Vi(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ji(e,t){return Vi(e)===Vi(t)}function Wi(e,t){return H(t)?t.findIndex(n=>Ji(n,e)):V(t)&&Ji(t,e)?0:-1}const Fs=e=>e[0]==="_"||e==="$stable",yi=e=>H(e)?e.map(Xe):[Xe(e)],Ol=(e,t,n)=>{if(t._n)return t;const r=tl((...i)=>yi(t(...i)),n);return r._c=!1,r},$s=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Fs(i))continue;const o=e[i];if(V(o))t[i]=Ol(i,o,r);else if(o!=null){const s=yi(o);t[i]=()=>s}}},Ns=(e,t)=>{const n=yi(t);e.slots.default=()=>n},Ml=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=X(t),Kn(t,"_",n)):$s(t,e.slots={})}else e.slots={},t&&Ns(e,t);Kn(e.slots,pr,1)},Dl=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=ce;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(Re(i,t),!n&&l===1&&delete i._):(o=!t.$stable,$s(t,i)),s=t}else t&&(Ns(e,t),s={default:1});if(o)for(const l in i)!Fs(l)&&!(l in s)&&delete i[l]};function Us(){return{app:null,config:{isNativeTag:nc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Il=0;function Al(e,t){return function(r,i=null){V(r)||(r=Object.assign({},r)),i!=null&&!le(i)&&(i=null);const o=Us(),s=new Set;let l=!1;const a=o.app={_uid:Il++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:nf,get config(){return o.config},set config(c){},use(c,...f){return s.has(c)||(c&&V(c.install)?(s.add(c),c.install(a,...f)):V(c)&&(s.add(c),c(a,...f))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,f){return f?(o.components[c]=f,a):o.components[c]},directive(c,f){return f?(o.directives[c]=f,a):o.directives[c]},mount(c,f,u){if(!l){const p=De(r,i);return p.appContext=o,f&&t?t(p,c):e(p,c,u),l=!0,a._container=c,c.__vue_app__=a,Ci(p.component)||p.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,f){return o.provides[c]=f,a}};return a}}function Br(e,t,n,r,i=!1){if(H(e)){e.forEach((p,m)=>Br(p,t&&(H(t)?t[m]:t),n,r,i));return}if(Fn(r)&&!i)return;const o=r.shapeFlag&4?Ci(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:a}=e,c=t&&t.r,f=l.refs===ce?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==a&&(de(c)?(f[c]=null,Y(u,c)&&(u[c]=null)):he(c)&&(c.value=null)),V(a))bt(a,l,12,[s,f]);else{const p=de(a),m=he(a);if(p||m){const g=()=>{if(e.f){const v=p?Y(u,a)?u[a]:f[a]:a.value;i?H(v)&&ei(v,o):H(v)?v.includes(o)||v.push(o):p?(f[a]=[o],Y(u,a)&&(u[a]=f[a])):(a.value=[o],e.k&&(f[e.k]=a.value))}else p?(f[a]=s,Y(u,a)&&(u[a]=s)):m&&(a.value=s,e.k&&(f[e.k]=s))};s?(g.id=-1,Oe(g,n)):g()}}}const Oe=al;function wl(e){return jl(e)}function jl(e,t){const n=lc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:f,parentNode:u,nextSibling:p,setScopeId:m=He,insertStaticContent:g}=e,v=(d,h,_,b=null,T=null,x=null,I=!1,R=null,k=!!h.dynamicChildren)=>{if(d===h)return;d&&!Zt(d,h)&&(b=D(d),ge(d,T,x,!0),d=null),h.patchFlag===-2&&(k=!1,h.dynamicChildren=null);const{type:P,ref:L,shapeFlag:j}=h;switch(P){case ur:C(d,h,_,b);break;case It:y(d,h,_,b);break;case _r:d==null&&E(h,_,b,I);break;case ft:be(d,h,_,b,T,x,I,R,k);break;default:j&1?z(d,h,_,b,T,x,I,R,k):j&6?Je(d,h,_,b,T,x,I,R,k):(j&64||j&128)&&P.process(d,h,_,b,T,x,I,R,k,U)}L!=null&&T&&Br(L,d&&d.ref,x,h||d,!h)},C=(d,h,_,b)=>{if(d==null)r(h.el=l(h.children),_,b);else{const T=h.el=d.el;h.children!==d.children&&c(T,h.children)}},y=(d,h,_,b)=>{d==null?r(h.el=a(h.children||""),_,b):h.el=d.el},E=(d,h,_,b)=>{[d.el,d.anchor]=g(d.children,h,_,b,d.el,d.anchor)},O=({el:d,anchor:h},_,b)=>{let T;for(;d&&d!==h;)T=p(d),r(d,_,b),d=T;r(h,_,b)},w=({el:d,anchor:h})=>{let _;for(;d&&d!==h;)_=p(d),i(d),d=_;i(h)},z=(d,h,_,b,T,x,I,R,k)=>{I=I||h.type==="svg",d==null?q(h,_,b,T,x,I,R,k):it(d,h,T,x,I,R,k)},q=(d,h,_,b,T,x,I,R)=>{let k,P;const{type:L,props:j,shapeFlag:F,transition:G,dirs:W}=d;if(k=d.el=s(d.type,x,j&&j.is,j),F&8?f(k,d.children):F&16&&ne(d.children,k,null,b,T,x&&L!=="foreignObject",I,R),W&&St(d,null,b,"created"),oe(k,d,d.scopeId,I,b),j){for(const te in j)te!=="value"&&!Bn(te)&&o(k,te,null,j[te],x,d.children,b,T,M);"value"in j&&o(k,"value",null,j.value),(P=j.onVnodeBeforeMount)&&Qe(P,b,d)}W&&St(d,null,b,"beforeMount");const ie=(!T||T&&!T.pendingBranch)&&G&&!G.persisted;ie&&G.beforeEnter(k),r(k,h,_),((P=j&&j.onVnodeMounted)||ie||W)&&Oe(()=>{P&&Qe(P,b,d),ie&&G.enter(k),W&&St(d,null,b,"mounted")},T)},oe=(d,h,_,b,T)=>{if(_&&m(d,_),b)for(let x=0;x<b.length;x++)m(d,b[x]);if(T){let x=T.subTree;if(h===x){const I=T.vnode;oe(d,I,I.scopeId,I.slotScopeIds,T.parent)}}},ne=(d,h,_,b,T,x,I,R,k=0)=>{for(let P=k;P<d.length;P++){const L=d[P]=R?vt(d[P]):Xe(d[P]);v(null,L,h,_,b,T,x,I,R)}},it=(d,h,_,b,T,x,I)=>{const R=h.el=d.el;let{patchFlag:k,dynamicChildren:P,dirs:L}=h;k|=d.patchFlag&16;const j=d.props||ce,F=h.props||ce;let G;_&&Tt(_,!1),(G=F.onVnodeBeforeUpdate)&&Qe(G,_,h,d),L&&St(h,d,_,"beforeUpdate"),_&&Tt(_,!0);const W=T&&h.type!=="foreignObject";if(P?N(d.dynamicChildren,P,R,_,b,W,x):I||J(d,h,R,null,_,b,W,x,!1),k>0){if(k&16)Fe(R,h,j,F,_,b,T);else if(k&2&&j.class!==F.class&&o(R,"class",null,F.class,T),k&4&&o(R,"style",j.style,F.style,T),k&8){const ie=h.dynamicProps;for(let te=0;te<ie.length;te++){const pe=ie[te],Ne=j[pe],wt=F[pe];(wt!==Ne||pe==="value")&&o(R,pe,Ne,wt,T,d.children,_,b,M)}}k&1&&d.children!==h.children&&f(R,h.children)}else!I&&P==null&&Fe(R,h,j,F,_,b,T);((G=F.onVnodeUpdated)||L)&&Oe(()=>{G&&Qe(G,_,h,d),L&&St(h,d,_,"updated")},b)},N=(d,h,_,b,T,x,I)=>{for(let R=0;R<h.length;R++){const k=d[R],P=h[R],L=k.el&&(k.type===ft||!Zt(k,P)||k.shapeFlag&70)?u(k.el):_;v(k,P,L,null,b,T,x,I,!0)}},Fe=(d,h,_,b,T,x,I)=>{if(_!==b){if(_!==ce)for(const R in _)!Bn(R)&&!(R in b)&&o(d,R,_[R],null,I,h.children,T,x,M);for(const R in b){if(Bn(R))continue;const k=b[R],P=_[R];k!==P&&R!=="value"&&o(d,R,P,k,I,h.children,T,x,M)}"value"in b&&o(d,"value",_.value,b.value)}},be=(d,h,_,b,T,x,I,R,k)=>{const P=h.el=d?d.el:l(""),L=h.anchor=d?d.anchor:l("");let{patchFlag:j,dynamicChildren:F,slotScopeIds:G}=h;G&&(R=R?R.concat(G):G),d==null?(r(P,_,b),r(L,_,b),ne(h.children,_,L,T,x,I,R,k)):j>0&&j&64&&F&&d.dynamicChildren?(N(d.dynamicChildren,F,_,T,x,I,R),(h.key!=null||T&&h===T.subTree)&&zs(d,h,!0)):J(d,h,_,L,T,x,I,R,k)},Je=(d,h,_,b,T,x,I,R,k)=>{h.slotScopeIds=R,d==null?h.shapeFlag&512?T.ctx.activate(h,_,b,I,k):me(h,_,b,T,x,I,k):ot(d,h,k)},me=(d,h,_,b,T,x,I)=>{const R=d.component=Vl(d,b,T);if(Ms(d)&&(R.ctx.renderer=U),Wl(R),R.asyncDep){if(T&&T.registerDep(R,se),!d.el){const k=R.subTree=De(It);y(null,k,h,_)}return}se(R,d,h,_,T,x,I)},ot=(d,h,_)=>{const b=h.component=d.component;if(il(d,h,_))if(b.asyncDep&&!b.asyncResolved){Q(b,h,_);return}else b.next=h,Qc(b.update),b.update();else h.el=d.el,b.vnode=h},se=(d,h,_,b,T,x,I)=>{const R=()=>{if(d.isMounted){let{next:L,bu:j,u:F,parent:G,vnode:W}=d,ie=L,te;Tt(d,!1),L?(L.el=W.el,Q(d,L,I)):L=W,j&&gr(j),(te=L.props&&L.props.onVnodeBeforeUpdate)&&Qe(te,G,L,W),Tt(d,!0);const pe=vr(d),Ne=d.subTree;d.subTree=pe,v(Ne,pe,u(Ne.el),D(Ne),d,T,x),L.el=pe.el,ie===null&&ol(d,pe.el),F&&Oe(F,T),(te=L.props&&L.props.onVnodeUpdated)&&Oe(()=>Qe(te,G,L,W),T)}else{let L;const{el:j,props:F}=h,{bm:G,m:W,parent:ie}=d,te=Fn(h);if(Tt(d,!1),G&&gr(G),!te&&(L=F&&F.onVnodeBeforeMount)&&Qe(L,ie,h),Tt(d,!0),j&&K){const pe=()=>{d.subTree=vr(d),K(j,d.subTree,d,T,null)};te?h.type.__asyncLoader().then(()=>!d.isUnmounted&&pe()):pe()}else{const pe=d.subTree=vr(d);v(null,pe,_,b,d,T,x),h.el=pe.el}if(W&&Oe(W,T),!te&&(L=F&&F.onVnodeMounted)){const pe=h;Oe(()=>Qe(L,ie,pe),T)}(h.shapeFlag&256||ie&&Fn(ie.vnode)&&ie.vnode.shapeFlag&256)&&d.a&&Oe(d.a,T),d.isMounted=!0,h=_=b=null}},k=d.effect=new ii(R,()=>mi(P),d.scope),P=d.update=()=>k.run();P.id=d.uid,Tt(d,!0),P()},Q=(d,h,_)=>{h.component=d;const b=d.vnode.props;d.vnode=h,d.next=null,kl(d,h.props,b,_),Dl(d,h.children,_),qt(),Ni(),Yt()},J=(d,h,_,b,T,x,I,R,k=!1)=>{const P=d&&d.children,L=d?d.shapeFlag:0,j=h.children,{patchFlag:F,shapeFlag:G}=h;if(F>0){if(F&128){We(P,j,_,b,T,x,I,R,k);return}else if(F&256){ke(P,j,_,b,T,x,I,R,k);return}}G&8?(L&16&&M(P,T,x),j!==P&&f(_,j)):L&16?G&16?We(P,j,_,b,T,x,I,R,k):M(P,T,x,!0):(L&8&&f(_,""),G&16&&ne(j,_,b,T,x,I,R,k))},ke=(d,h,_,b,T,x,I,R,k)=>{d=d||Ft,h=h||Ft;const P=d.length,L=h.length,j=Math.min(P,L);let F;for(F=0;F<j;F++){const G=h[F]=k?vt(h[F]):Xe(h[F]);v(d[F],G,_,null,T,x,I,R,k)}P>L?M(d,T,x,!0,!1,j):ne(h,_,b,T,x,I,R,k,j)},We=(d,h,_,b,T,x,I,R,k)=>{let P=0;const L=h.length;let j=d.length-1,F=L-1;for(;P<=j&&P<=F;){const G=d[P],W=h[P]=k?vt(h[P]):Xe(h[P]);if(Zt(G,W))v(G,W,_,null,T,x,I,R,k);else break;P++}for(;P<=j&&P<=F;){const G=d[j],W=h[F]=k?vt(h[F]):Xe(h[F]);if(Zt(G,W))v(G,W,_,null,T,x,I,R,k);else break;j--,F--}if(P>j){if(P<=F){const G=F+1,W=G<L?h[G].el:b;for(;P<=F;)v(null,h[P]=k?vt(h[P]):Xe(h[P]),_,W,T,x,I,R,k),P++}}else if(P>F)for(;P<=j;)ge(d[P],T,x,!0),P++;else{const G=P,W=P,ie=new Map;for(P=W;P<=F;P++){const Ae=h[P]=k?vt(h[P]):Xe(h[P]);Ae.key!=null&&ie.set(Ae.key,P)}let te,pe=0;const Ne=F-W+1;let wt=!1,Oi=0;const Xt=new Array(Ne);for(P=0;P<Ne;P++)Xt[P]=0;for(P=G;P<=j;P++){const Ae=d[P];if(pe>=Ne){ge(Ae,T,x,!0);continue}let qe;if(Ae.key!=null)qe=ie.get(Ae.key);else for(te=W;te<=F;te++)if(Xt[te-W]===0&&Zt(Ae,h[te])){qe=te;break}qe===void 0?ge(Ae,T,x,!0):(Xt[qe-W]=P+1,qe>=Oi?Oi=qe:wt=!0,v(Ae,h[qe],_,null,T,x,I,R,k),pe++)}const Mi=wt?Bl(Xt):Ft;for(te=Mi.length-1,P=Ne-1;P>=0;P--){const Ae=W+P,qe=h[Ae],Di=Ae+1<L?h[Ae+1].el:b;Xt[P]===0?v(null,qe,_,Di,T,x,I,R,k):wt&&(te<0||P!==Mi[te]?Ee(qe,_,Di,2):te--)}}},Ee=(d,h,_,b,T=null)=>{const{el:x,type:I,transition:R,children:k,shapeFlag:P}=d;if(P&6){Ee(d.component.subTree,h,_,b);return}if(P&128){d.suspense.move(h,_,b);return}if(P&64){I.move(d,h,_,U);return}if(I===ft){r(x,h,_);for(let j=0;j<k.length;j++)Ee(k[j],h,_,b);r(d.anchor,h,_);return}if(I===_r){O(d,h,_);return}if(b!==2&&P&1&&R)if(b===0)R.beforeEnter(x),r(x,h,_),Oe(()=>R.enter(x),T);else{const{leave:j,delayLeave:F,afterLeave:G}=R,W=()=>r(x,h,_),ie=()=>{j(x,()=>{W(),G&&G()})};F?F(x,W,ie):ie()}else r(x,h,_)},ge=(d,h,_,b=!1,T=!1)=>{const{type:x,props:I,ref:R,children:k,dynamicChildren:P,shapeFlag:L,patchFlag:j,dirs:F}=d;if(R!=null&&Br(R,null,_,d,!0),L&256){h.ctx.deactivate(d);return}const G=L&1&&F,W=!Fn(d);let ie;if(W&&(ie=I&&I.onVnodeBeforeUnmount)&&Qe(ie,h,d),L&6)S(d.component,_,b);else{if(L&128){d.suspense.unmount(_,b);return}G&&St(d,null,h,"beforeUnmount"),L&64?d.type.remove(d,h,_,T,U,b):P&&(x!==ft||j>0&&j&64)?M(P,h,_,!1,!0):(x===ft&&j&384||!T&&L&16)&&M(k,h,_),b&&st(d)}(W&&(ie=I&&I.onVnodeUnmounted)||G)&&Oe(()=>{ie&&Qe(ie,h,d),G&&St(d,null,h,"unmounted")},_)},st=d=>{const{type:h,el:_,anchor:b,transition:T}=d;if(h===ft){$e(_,b);return}if(h===_r){w(d);return}const x=()=>{i(_),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(d.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:R}=T,k=()=>I(_,x);R?R(d.el,x,k):k()}else x()},$e=(d,h)=>{let _;for(;d!==h;)_=p(d),i(d),d=_;i(h)},S=(d,h,_)=>{const{bum:b,scope:T,update:x,subTree:I,um:R}=d;b&&gr(b),T.stop(),x&&(x.active=!1,ge(I,d,h,_)),R&&Oe(R,h),Oe(()=>{d.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},M=(d,h,_,b=!1,T=!1,x=0)=>{for(let I=x;I<d.length;I++)ge(d[I],h,_,b,T)},D=d=>d.shapeFlag&6?D(d.component.subTree):d.shapeFlag&128?d.suspense.next():p(d.anchor||d.el),B=(d,h,_)=>{d==null?h._vnode&&ge(h._vnode,null,null,!0):v(h._vnode||null,d,h,null,null,null,_),Ni(),Es(),h._vnode=d},U={p:v,um:ge,m:Ee,r:st,mt:me,mc:ne,pc:J,pbc:N,n:D,o:e};let re,K;return t&&([re,K]=t(U)),{render:B,hydrate:re,createApp:Al(B,re)}}function Tt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zs(e,t,n=!1){const r=e.children,i=t.children;if(H(r)&&H(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=vt(i[o]),l.el=s.el),n||zs(s,l)),l.type===ur&&(l.el=s.el)}}function Bl(e){const t=e.slice(),n=[0];let r,i,o,s,l;const a=e.length;for(r=0;r<a;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,e[n[l]]<c?o=l+1:s=l;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const Ll=e=>e.__isTeleport,ft=Symbol(void 0),ur=Symbol(void 0),It=Symbol(void 0),_r=Symbol(void 0),fn=[];let Ge=null;function _i(e=!1){fn.push(Ge=e?null:[])}function Fl(){fn.pop(),Ge=fn[fn.length-1]||null}let _n=1;function qi(e){_n+=e}function Gs(e){return e.dynamicChildren=_n>0?Ge||Ft:null,Fl(),_n>0&&Ge&&Ge.push(e),e}function Hs(e,t,n,r,i,o){return Gs(je(e,t,n,r,i,o,!0))}function $l(e,t,n,r,i){return Gs(De(e,t,n,r,i,!0))}function Lr(e){return e?e.__v_isVNode===!0:!1}function Zt(e,t){return e.type===t.type&&e.key===t.key}const pr="__vInternal",Ks=({key:e})=>e??null,$n=({ref:e,ref_key:t,ref_for:n})=>e!=null?de(e)||he(e)||V(e)?{i:Be,r:e,k:t,f:!!n}:e:null;function je(e,t=null,n=null,r=0,i=null,o=e===ft?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ks(t),ref:t&&$n(t),scopeId:xs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Be};return l?(bi(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=de(n)?8:16),_n>0&&!s&&Ge&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Ge.push(a),a}const De=Nl;function Nl(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===_l)&&(e=It),Lr(e)){const l=Ht(e,t,!0);return n&&bi(l,n),_n>0&&!o&&Ge&&(l.shapeFlag&6?Ge[Ge.indexOf(e)]=l:Ge.push(l)),l.patchFlag|=-2,l}if(Zl(e)&&(e=e.__vccOpts),t){t=Ul(t);let{class:l,style:a}=t;l&&!de(l)&&(t.class=Xr(l)),le(a)&&(vs(a)&&!H(a)&&(a=Re({},a)),t.style=Qr(a))}const s=de(e)?1:sl(e)?128:Ll(e)?64:le(e)?4:V(e)?2:0;return je(e,t,n,r,i,s,o,!0)}function Ul(e){return e?vs(e)||pr in e?Re({},e):e:null}function Ht(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,l=t?Gl(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ks(l),ref:t&&t.ref?n&&i?H(i)?i.concat($n(t)):[i,$n(t)]:$n(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ft?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function zl(e=" ",t=0){return De(ur,null,e,t)}function nd(e="",t=!1){return t?(_i(),$l(It,null,e)):De(It,null,e)}function Xe(e){return e==null||typeof e=="boolean"?De(It):H(e)?De(ft,null,e.slice()):typeof e=="object"?vt(e):De(ur,null,String(e))}function vt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ht(e)}function bi(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(H(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),bi(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(pr in t)?t._ctx=Be:i===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else V(t)?(t={default:t,_ctx:Be},n=32):(t=String(t),r&64?(n=16,t=[zl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Gl(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Xr([t.class,r.class]));else if(i==="style")t.style=Qr([t.style,r.style]);else if(rr(i)){const o=t[i],s=r[i];s&&o!==s&&!(H(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Qe(e,t,n,r=null){Ke(e,t,7,[n,r])}const Hl=Us();let Kl=0;function Vl(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Hl,o={uid:Kl++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new os(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ls(r,i),emitsOptions:Rs(r,i),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:r.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=el.bind(null,o),e.ce&&e.ce(o),o}let ue=null;const Jl=()=>ue||Be,Kt=e=>{ue=e,e.scope.on()},Dt=()=>{ue&&ue.scope.off(),ue=null};function Vs(e){return e.vnode.shapeFlag&4}let bn=!1;function Wl(e,t=!1){bn=t;const{props:n,children:r}=e.vnode,i=Vs(e);xl(e,n,i,t),Ml(e,r);const o=i?ql(e,t):void 0;return bn=!1,o}function ql(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=fi(new Proxy(e.ctx,Cl));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Ql(e):null;Kt(e),qt();const o=bt(r,e,0,[e.props,i]);if(Yt(),Dt(),ns(o)){if(o.then(Dt,Dt),t)return o.then(s=>{Yi(e,s,t)}).catch(s=>{cr(s,e,0)});e.asyncDep=o}else Yi(e,o,t)}else Js(e,t)}function Yi(e,t,n){V(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=bs(t)),Js(e,n)}let Qi;function Js(e,t,n){const r=e.type;if(!e.render){if(!t&&Qi&&!r.render){const i=r.template||vi(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:a}=r,c=Re(Re({isCustomElement:o,delimiters:l},s),a);r.render=Qi(i,c)}}e.render=r.render||He}Kt(e),qt(),Sl(e),Yt(),Dt()}function Yl(e){return new Proxy(e.attrs,{get(t,n){return Ie(e,"get","$attrs"),t[n]}})}function Ql(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=Yl(e))},slots:e.slots,emit:e.emit,expose:t}}function Ci(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(bs(fi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ln)return ln[n](e)},has(t,n){return n in t||n in ln}}))}function Xl(e,t=!0){return V(e)?e.displayName||e.name:e.name||t&&e.__name}function Zl(e){return V(e)&&"__vccOpts"in e}const ae=(e,t)=>Wc(e,t,bn);function un(e,t,n){const r=arguments.length;return r===2?le(t)&&!H(t)?Lr(t)?De(e,null,[t]):De(e,t):De(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Lr(n)&&(n=[n]),De(e,t,n))}const ef=Symbol(""),tf=()=>tt(ef),nf="3.2.47",rf="http://www.w3.org/2000/svg",kt=typeof document<"u"?document:null,Xi=kt&&kt.createElement("template"),of={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?kt.createElementNS(rf,e):kt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>kt.createTextNode(e),createComment:e=>kt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>kt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Xi.innerHTML=r?`<svg>${e}</svg>`:e;const l=Xi.content;if(r){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function sf(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function af(e,t,n){const r=e.style,i=de(n);if(n&&!i){if(t&&!de(t))for(const o in t)n[o]==null&&Fr(r,o,"");for(const o in n)Fr(r,o,n[o])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Zi=/\s*!important$/;function Fr(e,t,n){if(H(n))n.forEach(r=>Fr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=cf(e,t);Zi.test(n)?e.setProperty(At(r),n.replace(Zi,""),"important"):e[r]=n}}const eo=["Webkit","Moz","ms"],br={};function cf(e,t){const n=br[t];if(n)return n;let r=nt(t);if(r!=="filter"&&r in e)return br[t]=r;r=sr(r);for(let i=0;i<eo.length;i++){const o=eo[i]+r;if(o in e)return br[t]=o}return t}const to="http://www.w3.org/1999/xlink";function lf(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(to,t.slice(6,t.length)):e.setAttributeNS(to,t,n);else{const o=tc(t);n==null||o&&!Zo(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function ff(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Zo(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function uf(e,t,n,r){e.addEventListener(t,n,r)}function pf(e,t,n,r){e.removeEventListener(t,n,r)}function df(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[l,a]=hf(t);if(r){const c=o[t]=vf(r,i);uf(e,l,c,a)}else s&&(pf(e,l,s,a),o[t]=void 0)}}const no=/(?:Once|Passive|Capture)$/;function hf(e){let t;if(no.test(e)){t={};let r;for(;r=e.match(no);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):At(e.slice(2)),t]}let Cr=0;const mf=Promise.resolve(),gf=()=>Cr||(mf.then(()=>Cr=0),Cr=Date.now());function vf(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ke(yf(r,n.value),t,5,[r])};return n.value=e,n.attached=gf(),n}function yf(e,t){if(H(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const ro=/^on[a-z]/,_f=(e,t,n,r,i=!1,o,s,l,a)=>{t==="class"?sf(e,r,i):t==="style"?af(e,n,r):rr(t)?Zr(t)||df(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bf(e,t,r,i))?ff(e,t,r,o,s,l,a):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),lf(e,t,r,i))};function bf(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ro.test(t)&&V(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ro.test(t)&&de(n)?!1:t in e}const Cf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sf=(e,t)=>n=>{if(!("key"in n))return;const r=At(n.key);if(t.some(i=>i===r||Cf[i]===r))return e(n)},Tf=Re({patchProp:_f},of);let io;function Ef(){return io||(io=wl(Tf))}const Pf=(...e)=>{const t=Ef().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Rf(r);if(!i)return;const o=t._component;!V(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Rf(e){return de(e)?document.querySelector(e):e}var xf=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const kf=Symbol();var oo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(oo||(oo={}));function Of(){const e=fc(!0),t=e.run(()=>Le({}));let n=[],r=[];const i=fi({install(o){i._a=o,o.provide(kf,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!xf?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Bt=typeof window<"u";function Mf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ee=Object.assign;function Sr(e,t){const n={};for(const r in t){const i=t[r];n[r]=Ve(i)?i.map(e):e(i)}return n}const pn=()=>{},Ve=Array.isArray,Df=/\/$/,If=e=>e.replace(Df,"");function Tr(e,t,n="/"){let r,i={},o="",s="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=Bf(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Af(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function so(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function wf(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Vt(t.matched[r],n.matched[i])&&Ws(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Vt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ws(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!jf(e[n],t[n]))return!1;return!0}function jf(e,t){return Ve(e)?ao(e,t):Ve(t)?ao(t,e):e===t}function ao(e,t){return Ve(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Bf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Cn;(function(e){e.pop="pop",e.push="push"})(Cn||(Cn={}));var dn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(dn||(dn={}));function Lf(e){if(!e)if(Bt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),If(e)}const Ff=/^[^#]+#/;function $f(e,t){return e.replace(Ff,"#")+t}function Nf(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const dr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Uf(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Nf(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function co(e,t){return(history.state?history.state.position-t:-1)+e}const $r=new Map;function zf(e,t){$r.set(e,t)}function Gf(e){const t=$r.get(e);return $r.delete(e),t}let Hf=()=>location.protocol+"//"+location.host;function qs(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let l=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),so(a,"")}return so(n,e)+r+i}function Kf(e,t,n,r){let i=[],o=[],s=null;const l=({state:p})=>{const m=qs(e,location),g=n.value,v=t.value;let C=0;if(p){if(n.value=m,t.value=p,s&&s===g){s=null;return}C=v?p.position-v.position:0}else r(m);i.forEach(y=>{y(n.value,g,{delta:C,type:Cn.pop,direction:C?C>0?dn.forward:dn.back:dn.unknown})})};function a(){s=n.value}function c(p){i.push(p);const m=()=>{const g=i.indexOf(p);g>-1&&i.splice(g,1)};return o.push(m),m}function f(){const{history:p}=window;p.state&&p.replaceState(ee({},p.state,{scroll:dr()}),"")}function u(){for(const p of o)p();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:a,listen:c,destroy:u}}function lo(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?dr():null}}function Vf(e){const{history:t,location:n}=window,r={value:qs(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,c,f){const u=e.indexOf("#"),p=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+a:Hf()+e+a;try{t[f?"replaceState":"pushState"](c,"",p),i.value=c}catch(m){console.error(m),n[f?"replace":"assign"](p)}}function s(a,c){const f=ee({},t.state,lo(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,f,!0),r.value=a}function l(a,c){const f=ee({},i.value,t.state,{forward:a,scroll:dr()});o(f.current,f,!0);const u=ee({},lo(r.value,a,null),{position:f.position+1},c);o(a,u,!1),r.value=a}return{location:r,state:i,push:l,replace:s}}function Jf(e){e=Lf(e);const t=Vf(e),n=Kf(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=ee({location:"",base:e,go:r,createHref:$f.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Wf(e){return typeof e=="string"||e&&typeof e=="object"}function Ys(e){return typeof e=="string"||typeof e=="symbol"}const gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qs=Symbol("");var fo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(fo||(fo={}));function Jt(e,t){return ee(new Error,{type:e,[Qs]:!0},t)}function at(e,t){return e instanceof Error&&Qs in e&&(t==null||!!(e.type&t))}const uo="[^/]+?",qf={sensitive:!1,strict:!1,start:!0,end:!0},Yf=/[.+*?^${}()[\]/\\]/g;function Qf(e,t){const n=ee({},qf,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const f=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const p=c[u];let m=40+(n.sensitive?.25:0);if(p.type===0)u||(i+="/"),i+=p.value.replace(Yf,"\\$&"),m+=40;else if(p.type===1){const{value:g,repeatable:v,optional:C,regexp:y}=p;o.push({name:g,repeatable:v,optional:C});const E=y||uo;if(E!==uo){m+=10;try{new RegExp(`(${E})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+w.message)}}let O=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;u||(O=C&&c.length<2?`(?:/${O})`:"/"+O),C&&(O+="?"),i+=O,m+=20,C&&(m+=-8),v&&(m+=-20),E===".*"&&(m+=-50)}f.push(m)}r.push(f)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(c){const f=c.match(s),u={};if(!f)return null;for(let p=1;p<f.length;p++){const m=f[p]||"",g=o[p-1];u[g.name]=m&&g.repeatable?m.split("/"):m}return u}function a(c){let f="",u=!1;for(const p of e){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const m of p)if(m.type===0)f+=m.value;else if(m.type===1){const{value:g,repeatable:v,optional:C}=m,y=g in c?c[g]:"";if(Ve(y)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=Ve(y)?y.join("/"):y;if(!E)if(C)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${g}"`);f+=E}}return f||"/"}return{re:s,score:r,keys:o,parse:l,stringify:a}}function Xf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Zf(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=Xf(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(po(r))return 1;if(po(i))return-1}return i.length-r.length}function po(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const eu={type:0,value:""},tu=/[a-zA-Z0-9_]/;function nu(e){if(!e)return[[]];if(e==="/")return[[eu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let l=0,a,c="",f="";function u(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&u(),s()):a===":"?(u(),n=1):p();break;case 4:p(),n=r;break;case 1:a==="("?n=2:tu.test(a)?p():(u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:n=3:f+=a;break;case 3:u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),u(),s(),i}function ru(e,t,n){const r=Qf(nu(e.path),n),i=ee(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function iu(e,t){const n=[],r=new Map;t=go({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function o(f,u,p){const m=!p,g=ou(f);g.aliasOf=p&&p.record;const v=go(t,f),C=[g];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of O)C.push(ee({},g,{components:p?p.record.components:g.components,path:w,aliasOf:p?p.record:g}))}let y,E;for(const O of C){const{path:w}=O;if(u&&w[0]!=="/"){const z=u.record.path,q=z[z.length-1]==="/"?"":"/";O.path=u.record.path+(w&&q+w)}if(y=ru(O,u,v),p?p.alias.push(y):(E=E||y,E!==y&&E.alias.push(y),m&&f.name&&!mo(y)&&s(f.name)),g.children){const z=g.children;for(let q=0;q<z.length;q++)o(z[q],y,p&&p.children[q])}p=p||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&a(y)}return E?()=>{s(E)}:pn}function s(f){if(Ys(f)){const u=r.get(f);u&&(r.delete(f),n.splice(n.indexOf(u),1),u.children.forEach(s),u.alias.forEach(s))}else{const u=n.indexOf(f);u>-1&&(n.splice(u,1),f.record.name&&r.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function l(){return n}function a(f){let u=0;for(;u<n.length&&Zf(f,n[u])>=0&&(f.record.path!==n[u].record.path||!Xs(f,n[u]));)u++;n.splice(u,0,f),f.record.name&&!mo(f)&&r.set(f.record.name,f)}function c(f,u){let p,m={},g,v;if("name"in f&&f.name){if(p=r.get(f.name),!p)throw Jt(1,{location:f});v=p.record.name,m=ee(ho(u.params,p.keys.filter(E=>!E.optional).map(E=>E.name)),f.params&&ho(f.params,p.keys.map(E=>E.name))),g=p.stringify(m)}else if("path"in f)g=f.path,p=n.find(E=>E.re.test(g)),p&&(m=p.parse(g),v=p.record.name);else{if(p=u.name?r.get(u.name):n.find(E=>E.re.test(u.path)),!p)throw Jt(1,{location:f,currentLocation:u});v=p.record.name,m=ee({},u.params,f.params),g=p.stringify(m)}const C=[];let y=p;for(;y;)C.unshift(y.record),y=y.parent;return{name:v,path:g,params:m,matched:C,meta:au(C)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function ho(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ou(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:su(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function su(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function mo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function au(e){return e.reduce((t,n)=>ee(t,n.meta),{})}function go(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Xs(e,t){return t.children.some(n=>n===e||Xs(e,n))}const Zs=/#/g,cu=/&/g,lu=/\//g,fu=/=/g,uu=/\?/g,ea=/\+/g,pu=/%5B/g,du=/%5D/g,ta=/%5E/g,hu=/%60/g,na=/%7B/g,mu=/%7C/g,ra=/%7D/g,gu=/%20/g;function Si(e){return encodeURI(""+e).replace(mu,"|").replace(pu,"[").replace(du,"]")}function vu(e){return Si(e).replace(na,"{").replace(ra,"}").replace(ta,"^")}function Nr(e){return Si(e).replace(ea,"%2B").replace(gu,"+").replace(Zs,"%23").replace(cu,"%26").replace(hu,"`").replace(na,"{").replace(ra,"}").replace(ta,"^")}function yu(e){return Nr(e).replace(fu,"%3D")}function _u(e){return Si(e).replace(Zs,"%23").replace(uu,"%3F")}function bu(e){return e==null?"":_u(e).replace(lu,"%2F")}function Yn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Cu(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(ea," "),s=o.indexOf("="),l=Yn(s<0?o:o.slice(0,s)),a=s<0?null:Yn(o.slice(s+1));if(l in t){let c=t[l];Ve(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function vo(e){let t="";for(let n in e){const r=e[n];if(n=yu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ve(r)?r.map(o=>o&&Nr(o)):[r&&Nr(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Su(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ve(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Tu=Symbol(""),yo=Symbol(""),Ti=Symbol(""),ia=Symbol(""),Ur=Symbol("");function en(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function yt(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const a=u=>{u===!1?l(Jt(4,{from:n,to:t})):u instanceof Error?l(u):Wf(u)?l(Jt(2,{from:t,to:u})):(o&&r.enterCallbacks[i]===o&&typeof u=="function"&&o.push(u),s())},c=e.call(r&&r.instances[i],t,n,a);let f=Promise.resolve(c);e.length<3&&(f=f.then(a)),f.catch(u=>l(u))})}function Er(e,t,n,r){const i=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(Eu(l)){const c=(l.__vccOpts||l)[t];c&&i.push(yt(c,n,r,o,s))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const f=Mf(c)?c.default:c;o.components[s]=f;const p=(f.__vccOpts||f)[t];return p&&yt(p,n,r,o,s)()}))}}return i}function Eu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _o(e){const t=tt(Ti),n=tt(ia),r=ae(()=>t.resolve(et(e.to))),i=ae(()=>{const{matched:a}=r.value,{length:c}=a,f=a[c-1],u=n.matched;if(!f||!u.length)return-1;const p=u.findIndex(Vt.bind(null,f));if(p>-1)return p;const m=bo(a[c-2]);return c>1&&bo(f)===m&&u[u.length-1].path!==m?u.findIndex(Vt.bind(null,a[c-2])):p}),o=ae(()=>i.value>-1&&ku(n.params,r.value.params)),s=ae(()=>i.value>-1&&i.value===n.matched.length-1&&Ws(n.params,r.value.params));function l(a={}){return xu(a)?t[et(e.replace)?"replace":"push"](et(e.to)).catch(pn):Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}const Pu=Tn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_o,setup(e,{slots:t}){const n=dt(_o(e)),{options:r}=tt(Ti),i=ae(()=>({[Co(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Co(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:un("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Ru=Pu;function xu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ku(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ve(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function bo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Co=(e,t,n)=>e??t??n,Ou=Tn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=tt(Ur),i=ae(()=>e.route||r.value),o=tt(yo,0),s=ae(()=>{let c=et(o);const{matched:f}=i.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),l=ae(()=>i.value.matched[s.value]);Ln(yo,ae(()=>s.value+1)),Ln(Tu,l),Ln(Ur,i);const a=Le();return zt(()=>[a.value,l.value,e.name],([c,f,u],[p,m,g])=>{f&&(f.instances[u]=c,m&&m!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),c&&f&&(!m||!Vt(f,m)||!p)&&(f.enterCallbacks[u]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,f=e.name,u=l.value,p=u&&u.components[f];if(!p)return So(n.default,{Component:p,route:c});const m=u.props[f],g=m?m===!0?c.params:typeof m=="function"?m(c):m:null,C=un(p,ee({},g,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[f]=null)},ref:a}));return So(n.default,{Component:C,route:c})||C}}});function So(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const oa=Ou;function Mu(e){const t=iu(e.routes,e),n=e.parseQuery||Cu,r=e.stringifyQuery||vo,i=e.history,o=en(),s=en(),l=en(),a=Uc(gt);let c=gt;Bt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Sr.bind(null,S=>""+S),u=Sr.bind(null,bu),p=Sr.bind(null,Yn);function m(S,M){let D,B;return Ys(S)?(D=t.getRecordMatcher(S),B=M):B=S,t.addRoute(B,D)}function g(S){const M=t.getRecordMatcher(S);M&&t.removeRoute(M)}function v(){return t.getRoutes().map(S=>S.record)}function C(S){return!!t.getRecordMatcher(S)}function y(S,M){if(M=ee({},M||a.value),typeof S=="string"){const d=Tr(n,S,M.path),h=t.resolve({path:d.path},M),_=i.createHref(d.fullPath);return ee(d,h,{params:p(h.params),hash:Yn(d.hash),redirectedFrom:void 0,href:_})}let D;if("path"in S)D=ee({},S,{path:Tr(n,S.path,M.path).path});else{const d=ee({},S.params);for(const h in d)d[h]==null&&delete d[h];D=ee({},S,{params:u(S.params)}),M.params=u(M.params)}const B=t.resolve(D,M),U=S.hash||"";B.params=f(p(B.params));const re=Af(r,ee({},S,{hash:vu(U),path:B.path})),K=i.createHref(re);return ee({fullPath:re,hash:U,query:r===vo?Su(S.query):S.query||{}},B,{redirectedFrom:void 0,href:K})}function E(S){return typeof S=="string"?Tr(n,S,a.value.path):ee({},S)}function O(S,M){if(c!==S)return Jt(8,{from:M,to:S})}function w(S){return oe(S)}function z(S){return w(ee(E(S),{replace:!0}))}function q(S){const M=S.matched[S.matched.length-1];if(M&&M.redirect){const{redirect:D}=M;let B=typeof D=="function"?D(S):D;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=E(B):{path:B},B.params={}),ee({query:S.query,hash:S.hash,params:"path"in B?{}:S.params},B)}}function oe(S,M){const D=c=y(S),B=a.value,U=S.state,re=S.force,K=S.replace===!0,d=q(D);if(d)return oe(ee(E(d),{state:typeof d=="object"?ee({},U,d.state):U,force:re,replace:K}),M||D);const h=D;h.redirectedFrom=M;let _;return!re&&wf(r,B,D)&&(_=Jt(16,{to:h,from:B}),We(B,B,!0,!1)),(_?Promise.resolve(_):it(h,B)).catch(b=>at(b)?at(b,2)?b:ke(b):Q(b,h,B)).then(b=>{if(b){if(at(b,2))return oe(ee({replace:K},E(b.to),{state:typeof b.to=="object"?ee({},U,b.to.state):U,force:re}),M||h)}else b=Fe(h,B,!0,K,U);return N(h,B,b),b})}function ne(S,M){const D=O(S,M);return D?Promise.reject(D):Promise.resolve()}function it(S,M){let D;const[B,U,re]=Du(S,M);D=Er(B.reverse(),"beforeRouteLeave",S,M);for(const d of B)d.leaveGuards.forEach(h=>{D.push(yt(h,S,M))});const K=ne.bind(null,S,M);return D.push(K),jt(D).then(()=>{D=[];for(const d of o.list())D.push(yt(d,S,M));return D.push(K),jt(D)}).then(()=>{D=Er(U,"beforeRouteUpdate",S,M);for(const d of U)d.updateGuards.forEach(h=>{D.push(yt(h,S,M))});return D.push(K),jt(D)}).then(()=>{D=[];for(const d of S.matched)if(d.beforeEnter&&!M.matched.includes(d))if(Ve(d.beforeEnter))for(const h of d.beforeEnter)D.push(yt(h,S,M));else D.push(yt(d.beforeEnter,S,M));return D.push(K),jt(D)}).then(()=>(S.matched.forEach(d=>d.enterCallbacks={}),D=Er(re,"beforeRouteEnter",S,M),D.push(K),jt(D))).then(()=>{D=[];for(const d of s.list())D.push(yt(d,S,M));return D.push(K),jt(D)}).catch(d=>at(d,8)?d:Promise.reject(d))}function N(S,M,D){for(const B of l.list())B(S,M,D)}function Fe(S,M,D,B,U){const re=O(S,M);if(re)return re;const K=M===gt,d=Bt?history.state:{};D&&(B||K?i.replace(S.fullPath,ee({scroll:K&&d&&d.scroll},U)):i.push(S.fullPath,U)),a.value=S,We(S,M,D,K),ke()}let be;function Je(){be||(be=i.listen((S,M,D)=>{if(!$e.listening)return;const B=y(S),U=q(B);if(U){oe(ee(U,{replace:!0}),B).catch(pn);return}c=B;const re=a.value;Bt&&zf(co(re.fullPath,D.delta),dr()),it(B,re).catch(K=>at(K,12)?K:at(K,2)?(oe(K.to,B).then(d=>{at(d,20)&&!D.delta&&D.type===Cn.pop&&i.go(-1,!1)}).catch(pn),Promise.reject()):(D.delta&&i.go(-D.delta,!1),Q(K,B,re))).then(K=>{K=K||Fe(B,re,!1),K&&(D.delta&&!at(K,8)?i.go(-D.delta,!1):D.type===Cn.pop&&at(K,20)&&i.go(-1,!1)),N(B,re,K)}).catch(pn)}))}let me=en(),ot=en(),se;function Q(S,M,D){ke(S);const B=ot.list();return B.length?B.forEach(U=>U(S,M,D)):console.error(S),Promise.reject(S)}function J(){return se&&a.value!==gt?Promise.resolve():new Promise((S,M)=>{me.add([S,M])})}function ke(S){return se||(se=!S,Je(),me.list().forEach(([M,D])=>S?D(S):M()),me.reset()),S}function We(S,M,D,B){const{scrollBehavior:U}=e;if(!Bt||!U)return Promise.resolve();const re=!D&&Gf(co(S.fullPath,0))||(B||!D)&&history.state&&history.state.scroll||null;return hi().then(()=>U(S,M,re)).then(K=>K&&Uf(K)).catch(K=>Q(K,S,M))}const Ee=S=>i.go(S);let ge;const st=new Set,$e={currentRoute:a,listening:!0,addRoute:m,removeRoute:g,hasRoute:C,getRoutes:v,resolve:y,options:e,push:w,replace:z,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:ot.add,isReady:J,install(S){const M=this;S.component("RouterLink",Ru),S.component("RouterView",oa),S.config.globalProperties.$router=M,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>et(a)}),Bt&&!ge&&a.value===gt&&(ge=!0,w(i.location).catch(U=>{}));const D={};for(const U in gt)D[U]=ae(()=>a.value[U]);S.provide(Ti,M),S.provide(ia,dt(D)),S.provide(Ur,a);const B=S.unmount;st.add(S),S.unmount=function(){st.delete(S),st.size<1&&(c=gt,be&&be(),be=null,a.value=gt,ge=!1,se=!1),B()}}};return $e}function jt(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Du(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const l=t.matched[s];l&&(e.matched.find(c=>Vt(c,l))?r.push(l):n.push(l));const a=e.matched[s];a&&(t.matched.find(c=>Vt(c,a))||i.push(a))}return[n,r,i]}const Iu={class:"h-full w-full"},Au=Tn({__name:"App",setup(e){return(t,n)=>(_i(),Hs("div",Iu,[De(et(oa))]))}}),wu="modulepreload",ju=function(e){return"/FOOP/"+e},To={},Pr=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=ju(o),o in To)return;To[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const u=i[f];if(u.href===o&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":wu,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((f,u)=>{c.addEventListener("load",f),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};var Eo;const Wt=typeof window<"u",Bu=e=>typeof e=="function",Lu=e=>typeof e=="string",sa=()=>{};Wt&&((Eo=window==null?void 0:window.navigator)!=null&&Eo.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function En(e){return typeof e=="function"?e():et(e)}function Fu(e){return e}function Qn(e){return ss()?(pc(e),!0):!1}function $u(e,t=!0){Jl()?gi(e):t?e():hi(e)}function rd(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let o=null;const s=Le(!1);function l(){o&&(clearInterval(o),o=null)}function a(){s.value=!1,l()}function c(){const f=En(t);f<=0||(s.value=!0,i&&e(),l(),o=setInterval(e,f))}if(r&&Wt&&c(),he(t)||Bu(t)){const f=zt(t,()=>{s.value&&Wt&&c()});Qn(f)}return Qn(a),{isActive:s,pause:a,resume:c}}function Nu(e,t,n={}){const{immediate:r=!0}=n,i=Le(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function l(){i.value=!1,s()}function a(...c){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...c)},En(t))}return r&&(i.value=!0,Wt&&a()),Qn(l),{isPending:ci(i),start:a,stop:l}}function Uu(e){var t;const n=En(e);return(t=n==null?void 0:n.$el)!=null?t:n}const aa=Wt?window:void 0,zu=Wt?window.navigator:void 0;function on(...e){let t,n,r,i;if(Lu(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=aa):[t,n,r,i]=e,!t)return sa;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},l=(f,u,p,m)=>(f.addEventListener(u,p,m),()=>f.removeEventListener(u,p,m)),a=zt(()=>[Uu(t),En(i)],([f,u])=>{s(),f&&o.push(...n.flatMap(p=>r.map(m=>l(f,p,m,u))))},{immediate:!0,flush:"post"}),c=()=>{a(),s()};return Qn(c),c}function Gu(e,t=!1){const n=Le(),r=()=>n.value=!!e();return r(),$u(r,t),n}function Hu(e={}){const{navigator:t=zu,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=e,s=["copy","cut"],l=Gu(()=>t&&"clipboard"in t),a=ae(()=>l.value||o),c=Le(""),f=Le(!1),u=Nu(()=>f.value=!1,i);function p(){l.value?t.clipboard.readText().then(C=>{c.value=C}):c.value=v()}if(a.value&&n)for(const C of s)on(C,p);async function m(C=En(r)){a.value&&C!=null&&(l.value?await t.clipboard.writeText(C):g(C),c.value=C,f.value=!0,u.start())}function g(C){const y=document.createElement("textarea");y.value=C??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function v(){var C,y,E;return(E=(y=(C=document==null?void 0:document.getSelection)==null?void 0:C.call(document))==null?void 0:y.toString())!=null?E:""}return{isSupported:a,text:c,copied:f,copy:m}}const Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro="__vueuse_ssr_handlers__";Po[Ro]=Po[Ro]||{};const Ku={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function id(e={}){const{reactive:t=!1,target:n=aa,aliasMap:r=Ku,passive:i=!0,onEventFired:o=sa}=e,s=dt(new Set),l={toJSON(){return{}},current:s},a=t?dt(l):l,c=new Set,f=new Set;function u(v,C){v in a&&(t?a[v]=C:a[v].value=C)}function p(){s.clear();for(const v of f)u(v,!1)}function m(v,C){var y,E;const O=(y=v.key)==null?void 0:y.toLowerCase(),z=[(E=v.code)==null?void 0:E.toLowerCase(),O].filter(Boolean);O&&(C?s.add(O):s.delete(O));for(const q of z)f.add(q),u(q,C);O==="meta"&&!C?(c.forEach(q=>{s.delete(q),u(q,!1)}),c.clear()):typeof v.getModifierState=="function"&&v.getModifierState("Meta")&&C&&[...s,...z].forEach(q=>c.add(q))}on(n,"keydown",v=>(m(v,!0),o(v)),{passive:i}),on(n,"keyup",v=>(m(v,!1),o(v)),{passive:i}),on("blur",p,{passive:!0}),on("focus",p,{passive:!0});const g=new Proxy(a,{get(v,C,y){if(typeof C!="string")return Reflect.get(v,C,y);if(C=C.toLowerCase(),C in r&&(C=r[C]),!(C in a))if(/[+_-]/.test(C)){const O=C.split(/[+_-]/g).map(w=>w.trim());a[C]=ae(()=>O.every(w=>et(g[w])))}else a[C]=Le(!1);const E=Reflect.get(v,C,y);return t?et(E):E}});return g}var xo;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(xo||(xo={}));var Vu=Object.defineProperty,ko=Object.getOwnPropertySymbols,Ju=Object.prototype.hasOwnProperty,Wu=Object.prototype.propertyIsEnumerable,Oo=(e,t,n)=>t in e?Vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qu=(e,t)=>{for(var n in t||(t={}))Ju.call(t,n)&&Oo(e,n,t[n]);if(ko)for(var n of ko(t))Wu.call(t,n)&&Oo(e,n,t[n]);return e};const Yu={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qu({linear:Fu},Yu);const Qu={class:"h-full w-full bg-blue-950 flex flex-wrap gap-8 justify-center items-center"},Xu={class:"ui-card"},Zu=je("h3",{class:"text-lg font-mono mb-3"},"Welcome",-1),ep=je("p",{class:"text-sm font-mono"},"You can either create a new game or join an existing game by pasting a URL or only the token into the below input field",-1),tp=je("hr",{class:"my-4 border-blue-950"},null,-1),np=je("div",{class:"flex flex-wrap items-center justify-center my-4"},[je("p",{class:"text-lg font-mono"},"OR")],-1),rp=["onKeydown"],ip=je("h3",{class:"text-lg font-mono mb-3"},"Singleplayer",-1),op=Tn({__name:"HomeView",setup(e){const t=tt("peerService"),{copy:n}=Hu(),r=c=>c.startsWith("http")?new URL(c).pathname.replace("/lobby/",""):c,i=async()=>{if(!await t.initSelf()){console.error("could not init peer service correctly, cannot create game");return}},o=async()=>{t!==void 0&&(await i(),n(window.location.protocol+"//"+window.location.host+"/lobby/"+t.peerId.value),Nn.push(`/lobby/${t.peerId.value}`))},s=async()=>{Nn.push("/game/single")},l=Le(null),a=async()=>{if(l.value===null||t===void 0)return;await i();const c=r(l.value.value);t.connectToPeer(c)&&Nn.push(`/lobby/${c}`)};return(c,f)=>(_i(),Hs("main",Qu,[je("div",Xu,[Zu,ep,tp,je("button",{class:"bg-blue-950 text-white rounded-lg p-2 w-full",onClick:o},"Create Game"),np,je("input",{type:"text",ref_key:"lobbyId",ref:l,id:"game-token",placeholder:"Game Token or URL",class:"w-full border border-blue-950 rounded-lg p-2",onKeydown:Sf(a,["enter"])},null,40,rp)]),je("div",{class:"ui-card mt-8"},[ip,je("button",{class:"bg-blue-950 text-white rounded-lg p-2 w-full",onClick:s},"Start single player")])]))}});const Nn=Mu({history:Jf("/FOOP/"),routes:[{path:"/",name:"home",component:op},{path:"/lobby/:lobbyId",name:"lobby",component:()=>Pr(()=>import("./LobbyView-2432acab.js"),["assets/LobbyView-2432acab.js","assets/game-f3747a7f.js"])},{path:"/game/:gameId",name:"multiplayer_game",component:()=>Pr(()=>import("./GameView-6458f445.js"),[])},{path:"/game/single",name:"singleplayer_game",component:()=>Pr(()=>import("./SinglePlayerGameView-0bad50de.js"),["assets/SinglePlayerGameView-0bad50de.js","assets/game-f3747a7f.js","assets/SinglePlayerGameView-a678669b.css"])}]});var Xn={},sp={get exports(){return Xn},set exports(e){Xn=e}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function r(){this._pieces=[],this._parts=[]}r.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},r.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new n,o=0,s=this._parts.length;o<s;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=r})(sp);var ap=Xn.BufferBuilder,Mo=Xn.binaryFeatures,cp={unpack:function(e){var t=new ye(e);return t.unpack()},pack:function(e){var t=new _e;t.pack(e);var n=t.getBuffer();return n}},Do=cp;function ye(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}ye.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};ye.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};ye.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};ye.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};ye.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};ye.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};ye.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};ye.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};ye.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};ye.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};ye.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,r="",i,o;n<e;)i=t[n],i<128?(r+=String.fromCharCode(i),n++):(i^192)<32?(o=(i^192)<<6|t[n+1]&63,r+=String.fromCharCode(o),n+=2):(o=(i&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,r+=String.fromCharCode(o),n+=3);return this.index+=e,r};ye.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};ye.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t};ye.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*Math.pow(2,n-23)};ye.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,r-20)+t*Math.pow(2,r-52);return(n===0?1:-1)*o};ye.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function _e(){this.bufferBuilder=new ap}_e.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};_e.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)Mo.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)Mo.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};_e.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};_e.prototype.pack_string=function(e){var t=fp(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};_e.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};_e.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};_e.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)};_e.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))};_e.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};_e.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};_e.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};_e.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};_e.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};_e.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};_e.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};_e.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function lp(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function fp(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,lp).length}let ca=!0,la=!0;function sn(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Qt(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const a=c=>{const f=n(c);f&&(l.handleEvent?l.handleEvent(f):l(f))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,a),i.apply(this,[s,a])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const a=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,a])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function up(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(ca=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function pp(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(la=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ei(){if(typeof window=="object"){if(ca)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function hr(e,t){la&&console.warn(e+" is deprecated, please use "+t+" instead.")}function dp(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=sn(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=sn(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=sn(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=sn(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Io(e){return Object.prototype.toString.call(e)==="[object Object]"}function fa(e){return Io(e)?Object.keys(e).reduce(function(t,n){const r=Io(e[n]),i=r?fa(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function zr(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?zr(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{zr(e,e.get(i),n)})}))}function Ao(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===r&&l.trackId===s.id&&zr(e,l,i)})}),i}const wo=Ei;function ua(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const f=typeof l[c]=="object"?l[c]:{ideal:l[c]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const u=function(p,m){return p?p+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(f.ideal!==void 0){a.optional=a.optional||[];let p={};typeof f.ideal=="number"?(p[u("min",c)]=f.ideal,a.optional.push(p),p={},p[u("max",c)]=f.ideal,a.optional.push(p)):(p[u("",c)]=f.ideal,a.optional.push(p))}f.exact!==void 0&&typeof f.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[u("",c)]=f.exact):["min","max"].forEach(p=>{f[p]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[u(p,c)]=f[p])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},i=function(l,a){if(t.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(f,u,p){u in f&&!(p in f)&&(f[p]=f[u],delete f[u])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const f=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete l.video.facingMode;let u;if(c.exact==="environment"||c.ideal==="environment"?u=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(p=>{p=p.filter(g=>g.kind==="videoinput");let m=p.find(g=>u.some(v=>g.label.toLowerCase().includes(v)));return!m&&p.length&&u.includes("back")&&(m=p[p.length-1]),m&&(l.video.deviceId=c.exact?{exact:m.deviceId}:{ideal:m.deviceId}),l.video=r(l.video),wo("chrome: "+JSON.stringify(l)),a(l)})}l.video=r(l.video)}return wo("chrome: "+JSON.stringify(l)),a(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,a,c){i(l,f=>{n.webkitGetUserMedia(f,a,u=>{c&&c(o(u))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return i(a,c=>l(c).then(f=>{if(c.audio&&!f.getAudioTracks().length||c.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(o(f))))}}}function hp(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,l=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(r)})}}}function pa(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function da(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Qt(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function ha(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(a=>a.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ma(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const s=function(a){const c={};return a.result().forEach(u=>{const p={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(m=>{p[m]=u.stat(m)}),c[p.id]=p}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){i(l(s(c)))};return t.apply(this,[a,r])}return new Promise((a,c)=>{t.apply(this,[function(f){a(l(s(f)))},c])}).then(i,o)}}function ga(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>Ao(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Qt(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Ao(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function va(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(a)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(s);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function ya(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return va(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const f=n.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(u=>this._reverseStreams[u.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(u=>{if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const u=new e.MediaStream(f.getTracks());this._streams[f.id]=u,this._reverseStreams[u.id]=f,f=u}r.apply(this,[f])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},e.RTCPeerConnection.prototype.addTrack=function(f,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(v=>v===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[u.id];if(g)g.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new e.MediaStream([f]);this._streams[u.id]=v,this._reverseStreams[v.id]=u,this.addStream(v)}return this.getSenders().find(v=>v.track===f)};function o(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const m=c._reverseStreams[p],g=c._streams[m.id];u=u.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:f.type,sdp:u})}function s(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const m=c._reverseStreams[p],g=c._streams[m.id];u=u.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:f.type,sdp:u})}["createOffer","createAnswer"].forEach(function(c){const f=e.RTCPeerConnection.prototype[c],u={[c](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[g=>{const v=o(this,g);p[0].apply(null,[v])},g=>{p[1]&&p[1].apply(null,g)},arguments[2]]):f.apply(this,arguments).then(g=>o(this,g))}};e.RTCPeerConnection.prototype[c]=u[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(v=>f.track===v)&&(p=this._streams[m])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Gr(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function _a(e,t){Qt(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const jo=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:_a,shimAddTrackRemoveTrack:ya,shimAddTrackRemoveTrackWithNative:va,shimGetDisplayMedia:hp,shimGetSendersWithDtmf:ha,shimGetStats:ma,shimGetUserMedia:ua,shimMediaStream:pa,shimOnTrack:da,shimPeerConnection:Gr,shimSenderReceiverGetStats:ga},Symbol.toStringTag,{value:"Module"}));function mp(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&hr("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(s=>{if(s.indexOf("stun:")===0)return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}var Zn={},gp={get exports(){return Zn},set exports(e){Zn=e}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(r){return r.trim()})},t.splitSections=function(n){var r=n.split(`
m=`);return r.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(n){var r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){var r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(function(i){return i.indexOf(r)===0})},t.parseCandidate=function(n){var r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");for(var i={foundation:r[0],component:parseInt(r[1],10),protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]},o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]=r[o+1];break}return i},t.writeCandidate=function(n){var r=[];r.push(n.foundation),r.push(n.component),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);var i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var r=n.substr(9).split(" "),i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){var r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);var i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){var r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var r={},i,o=n.substr(n.indexOf(" ")+1).split(";"),s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){var r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var o=[];Object.keys(n.parameters).forEach(function(s){n.parameters[s]?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){var r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){var r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(o){r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){var r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substr(r+1,o-r-1),i.value=n.substr(o+1)):i.attribute=n.substr(r+1),i},t.parseSsrcGroup=function(n){var r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(function(i){return parseInt(i,10)})}},t.getMid=function(n){var r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(n){var r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1]}},t.getDtlsParameters=function(n,r){var i=t.matchPrefix(n+r,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){var i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){var r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){var i=t.matchPrefix(n+r,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(n,r){var i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n),o=i[0].split(" "),s=3;s<o.length;s++){var l=o[s],a=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(a){var c=t.parseRtpMap(a),f=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(c.parameters=f.length?t.parseFmtp(f[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(u){r.headerExtensions.push(t.parseExtmap(u))}),r},t.writeRtpDescription=function(n,r){var i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(function(s){i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});var o=0;return r.codecs.forEach(function(s){s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,r.headerExtensions&&r.headerExtensions.forEach(function(s){i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){var r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(function(p){return t.parseSsrcMedia(p)}).filter(function(p){return p.attribute==="cname"}),a=l.length>0&&l[0].ssrc,c,f=t.matchPrefix(n,"a=ssrc-group:FID").map(function(p){var m=p.substr(17).split(" ");return m.map(function(g){return parseInt(g,10)})});f.length>0&&f[0].length>1&&f[0][0]===a&&(c=f[0][1]),i.codecs.forEach(function(p){if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){var m={ssrc:a,codecPayloadType:parseInt(p.parameters.apt,10)};a&&c&&(m.rtx={ssrc:c}),r.push(m),o&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&a&&r.push({ssrc:a});var u=t.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substr(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substr(5),10)*1e3*.95-50*40*8:u=void 0,r.forEach(function(p){p.maxBitrate=u})),r},t.parseRtcpParameters=function(n){var r={},i=t.matchPrefix(n,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);var o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;var s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.parseMsid=function(n){var r,i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};var o=t.matchPrefix(n,"a=ssrc:").map(function(s){return t.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){var r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:r.fmt,maxMessageSize:o};var l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){var a=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){var i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,r,i){var o,s=r!==void 0?r:2;n?o=n:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,r,i,o){var s=t.writeRtpDescription(n.kind,r);if(s+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),s+="a=mid:"+n.mid+`\r
`,n.direction?s+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var l="msid:"+o.id+" "+n.rtpSender.track.id+`\r
`;s+="a="+l,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+l,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),s},t.getDirection=function(n,r){for(var i=t.splitLines(n),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){var r=t.splitLines(n),i=r[0].split(" ");return i[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var r=t.splitLines(n),i=r[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){var r=t.matchPrefix(n,"o=")[0],i=r.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var r=t.splitLines(n),i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(gp);const Un=Zn;var $=Zn;function vp(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Bo(e,t,n,r,i){var o=$.writeRtpDescription(e.kind,t);if(o+=$.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=$.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(r?r.id:"-")+" "+s+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+$.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+$.localCName+`\r
`),o}function yp(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(r){if(r&&(r.urls||r.url)){var i=r.urls||r.url;r.url&&!r.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(s){var l=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!n;return l?(n=!0,!0):s.indexOf("stun:")===0&&t>=14393&&s.indexOf("?transport=udp")===-1}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}function An(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(o,s){o=parseInt(o,10);for(var l=0;l<s.length;l++)if(s[l].payloadType===o||s[l].preferredPayloadType===o)return s[l]},i=function(o,s,l,a){var c=r(o.parameters.apt,l),f=r(s.parameters.apt,a);return c&&f&&c.name.toLowerCase()===f.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var l=t.codecs[s];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),n.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(a){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===a.type&&o.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var s=0;s<t.headerExtensions.length;s++){var l=t.headerExtensions[s];if(o.uri===l.uri){n.headerExtensions.push(l);break}}}),n}function Lo(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function Rr(e,t){var n=e.getRemoteCandidates().find(function(r){return t.foundation===r.foundation&&t.ip===r.ip&&t.port===r.port&&t.priority===r.priority&&t.protocol===r.protocol&&t.type===r.type});return n||e.addRemoteCandidate(t),!n}function Ce(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var _p=function(e,t){function n(a,c){c.addTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:a}))}function r(a,c){c.removeTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:a}))}function i(a,c,f,u){var p=new Event("track");p.track=c,p.receiver=f,p.transceiver={receiver:f},p.streams=u,e.setTimeout(function(){a._dispatchEvent("track",p)})}var o=function(a){var c=this,f=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(p){c[p]=f[p].bind(f)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle=a.bundlePolicy==="max-bundle",a.rtcpMuxPolicy==="negotiate")throw Ce("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all";break}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced";break}if(a.iceServers=yp(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var u=a.iceCandidatePoolSize;u>0;u--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=$.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(a,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+a]=="function"&&this["on"+a](c))},o.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(a,c){var f=this.transceivers.length>0,u={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&f)u.iceTransport=this.transceivers[0].iceTransport,u.dtlsTransport=this.transceivers[0].dtlsTransport;else{var p=this._createIceAndDtlsTransports();u.iceTransport=p.iceTransport,u.dtlsTransport=p.dtlsTransport}return c||this.transceivers.push(u),u},o.prototype.addTrack=function(a,c){if(this._isClosed)throw Ce("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var f=this.transceivers.find(function(m){return m.track===a});if(f)throw Ce("InvalidAccessError","Track already exists.");for(var u,p=0;p<this.transceivers.length;p++)!this.transceivers[p].track&&this.transceivers[p].kind===a.kind&&(u=this.transceivers[p]);return u||(u=this._createTransceiver(a.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),u.track=a,u.stream=c,u.rtpSender=new e.RTCRtpSender(a,u.dtlsTransport),u.rtpSender},o.prototype.addStream=function(a){var c=this;if(t>=15025)a.getTracks().forEach(function(u){c.addTrack(u,a)});else{var f=a.clone();a.getTracks().forEach(function(u,p){var m=f.getTracks()[p];u.addEventListener("enabled",function(g){m.enabled=g.enabled})}),f.getTracks().forEach(function(u){c.addTrack(u,f)})}},o.prototype.removeTrack=function(a){if(this._isClosed)throw Ce("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(p){return p.rtpSender===a});if(!c)throw Ce("InvalidAccessError","Sender was not created by this connection.");var f=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var u=this.transceivers.map(function(p){return p.stream});u.indexOf(f)===-1&&this.localStreams.indexOf(f)>-1&&this.localStreams.splice(this.localStreams.indexOf(f),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(f){var u=c.getSenders().find(function(p){return p.track===f});u&&c.removeTrack(u)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},o.prototype._createIceGatherer=function(a,c){var f=this;if(c&&a>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var u=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(u,"state",{value:"new",writable:!0}),this.transceivers[a].bufferedCandidateEvents=[],this.transceivers[a].bufferCandidates=function(p){var m=!p.candidate||Object.keys(p.candidate).length===0;u.state=m?"completed":"gathering",f.transceivers[a].bufferedCandidateEvents!==null&&f.transceivers[a].bufferedCandidateEvents.push(p)},u.addEventListener("localcandidate",this.transceivers[a].bufferCandidates),u},o.prototype._gather=function(a,c){var f=this,u=this.transceivers[c].iceGatherer;if(!u.onlocalcandidate){var p=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,u.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),u.onlocalcandidate=function(m){if(!(f.usingBundle&&c>0)){var g=new Event("icecandidate");g.candidate={sdpMid:a,sdpMLineIndex:c};var v=m.candidate,C=!v||Object.keys(v).length===0;if(C)(u.state==="new"||u.state==="gathering")&&(u.state="completed");else{u.state==="new"&&(u.state="gathering"),v.component=1,v.ufrag=u.getLocalParameters().usernameFragment;var y=$.writeCandidate(v);g.candidate=Object.assign(g.candidate,$.parseCandidate(y)),g.candidate.candidate=y,g.candidate.toJSON=function(){return{candidate:g.candidate.candidate,sdpMid:g.candidate.sdpMid,sdpMLineIndex:g.candidate.sdpMLineIndex,usernameFragment:g.candidate.usernameFragment}}}var E=$.getMediaSections(f._localDescription.sdp);C?E[g.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:E[g.candidate.sdpMLineIndex]+="a="+g.candidate.candidate+`\r
`,f._localDescription.sdp=$.getDescription(f._localDescription.sdp)+E.join("");var O=f.transceivers.every(function(w){return w.iceGatherer&&w.iceGatherer.state==="completed"});f.iceGatheringState!=="gathering"&&(f.iceGatheringState="gathering",f._emitGatheringStateChange()),C||f._dispatchEvent("icecandidate",g),O&&(f._dispatchEvent("icecandidate",new Event("icecandidate")),f.iceGatheringState="complete",f._emitGatheringStateChange())}},e.setTimeout(function(){p.forEach(function(m){u.onlocalcandidate(m)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var a=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState(),a._updateConnectionState()};var f=new e.RTCDtlsTransport(c);return f.ondtlsstatechange=function(){a._updateConnectionState()},f.onerror=function(){Object.defineProperty(f,"state",{value:"failed",writable:!0}),a._updateConnectionState()},{iceTransport:c,dtlsTransport:f}},o.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);var f=this.transceivers[a].iceTransport;f&&(delete f.onicestatechange,delete this.transceivers[a].iceTransport);var u=this.transceivers[a].dtlsTransport;u&&(delete u.ondtlsstatechange,delete u.onerror,delete this.transceivers[a].dtlsTransport)},o.prototype._transceive=function(a,c,f){var u=An(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(u.encodings=a.sendEncodingParameters,u.rtcp={cname:$.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(u.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(u)),f&&a.rtpReceiver&&u.codecs.length>0&&(a.kind==="video"&&a.recvEncodingParameters&&t<15019&&a.recvEncodingParameters.forEach(function(p){delete p.rtx}),a.recvEncodingParameters.length?u.encodings=a.recvEncodingParameters:u.encodings=[{}],u.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(u.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(u.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(u))},o.prototype.setLocalDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Ce("TypeError",'Unsupported type "'+a.type+'"'));if(!Lo("setLocalDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Ce("InvalidStateError","Can not set local "+a.type+" in state "+c.signalingState));var f,u;if(a.type==="offer")f=$.splitSections(a.sdp),u=f.shift(),f.forEach(function(m,g){var v=$.parseRtpParameters(m);c.transceivers[g].localCapabilities=v}),c.transceivers.forEach(function(m,g){c._gather(m.mid,g)});else if(a.type==="answer"){f=$.splitSections(c._remoteDescription.sdp),u=f.shift();var p=$.matchPrefix(u,"a=ice-lite").length>0;f.forEach(function(m,g){var v=c.transceivers[g],C=v.iceGatherer,y=v.iceTransport,E=v.dtlsTransport,O=v.localCapabilities,w=v.remoteCapabilities,z=$.isRejected(m)&&$.matchPrefix(m,"a=bundle-only").length===0;if(!z&&!v.rejected){var q=$.getIceParameters(m,u),oe=$.getDtlsParameters(m,u);p&&(oe.role="server"),(!c.usingBundle||g===0)&&(c._gather(v.mid,g),y.state==="new"&&y.start(C,q,p?"controlling":"controlled"),E.state==="new"&&E.start(oe));var ne=An(O,w);c._transceive(v,ne.codecs.length>0,!1)}})}return c._localDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Ce("TypeError",'Unsupported type "'+a.type+'"'));if(!Lo("setRemoteDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Ce("InvalidStateError","Can not set remote "+a.type+" in state "+c.signalingState));var f={};c.remoteStreams.forEach(function(y){f[y.id]=y});var u=[],p=$.splitSections(a.sdp),m=p.shift(),g=$.matchPrefix(m,"a=ice-lite").length>0,v=$.matchPrefix(m,"a=group:BUNDLE ").length>0;c.usingBundle=v;var C=$.matchPrefix(m,"a=ice-options:")[0];return C?c.canTrickleIceCandidates=C.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,p.forEach(function(y,E){var O=$.splitLines(y),w=$.getKind(y),z=$.isRejected(y)&&$.matchPrefix(y,"a=bundle-only").length===0,q=O[0].substr(2).split(" ")[2],oe=$.getDirection(y,m),ne=$.parseMsid(y),it=$.getMid(y)||$.generateIdentifier();if(z||w==="application"&&(q==="DTLS/SCTP"||q==="UDP/DTLS/SCTP")){c.transceivers[E]={mid:it,kind:w,protocol:q,rejected:!0};return}!z&&c.transceivers[E]&&c.transceivers[E].rejected&&(c.transceivers[E]=c._createTransceiver(w,!0));var N,Fe,be,Je,me,ot,se,Q,J,ke=$.parseRtpParameters(y),We,Ee;z||(We=$.getIceParameters(y,m),Ee=$.getDtlsParameters(y,m),Ee.role="client"),se=$.parseRtpEncodingParameters(y);var ge=$.parseRtcpParameters(y),st=$.matchPrefix(y,"a=end-of-candidates",m).length>0,$e=$.matchPrefix(y,"a=candidate:").map(function(U){return $.parseCandidate(U)}).filter(function(U){return U.component===1});if((a.type==="offer"||a.type==="answer")&&!z&&v&&E>0&&c.transceivers[E]&&(c._disposeIceAndDtlsTransports(E),c.transceivers[E].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[E].iceTransport=c.transceivers[0].iceTransport,c.transceivers[E].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[E].rtpSender&&c.transceivers[E].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[E].rtpReceiver&&c.transceivers[E].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),a.type==="offer"&&!z){N=c.transceivers[E]||c._createTransceiver(w),N.mid=it,N.iceGatherer||(N.iceGatherer=c._createIceGatherer(E,v)),$e.length&&N.iceTransport.state==="new"&&(st&&(!v||E===0)?N.iceTransport.setRemoteCandidates($e):$e.forEach(function(U){Rr(N.iceTransport,U)})),Q=e.RTCRtpReceiver.getCapabilities(w),t<15019&&(Q.codecs=Q.codecs.filter(function(U){return U.name!=="rtx"})),ot=N.sendEncodingParameters||[{ssrc:(2*E+2)*1001}];var S=!1;if(oe==="sendrecv"||oe==="sendonly"){if(S=!N.rtpReceiver,me=N.rtpReceiver||new e.RTCRtpReceiver(N.dtlsTransport,w),S){var M;J=me.track,ne&&ne.stream==="-"||(ne?(f[ne.stream]||(f[ne.stream]=new e.MediaStream,Object.defineProperty(f[ne.stream],"id",{get:function(){return ne.stream}})),Object.defineProperty(J,"id",{get:function(){return ne.track}}),M=f[ne.stream]):(f.default||(f.default=new e.MediaStream),M=f.default)),M&&(n(J,M),N.associatedRemoteMediaStreams.push(M)),u.push([J,me,M])}}else N.rtpReceiver&&N.rtpReceiver.track&&(N.associatedRemoteMediaStreams.forEach(function(U){var re=U.getTracks().find(function(K){return K.id===N.rtpReceiver.track.id});re&&r(re,U)}),N.associatedRemoteMediaStreams=[]);N.localCapabilities=Q,N.remoteCapabilities=ke,N.rtpReceiver=me,N.rtcpParameters=ge,N.sendEncodingParameters=ot,N.recvEncodingParameters=se,c._transceive(c.transceivers[E],!1,S)}else if(a.type==="answer"&&!z){N=c.transceivers[E],Fe=N.iceGatherer,be=N.iceTransport,Je=N.dtlsTransport,me=N.rtpReceiver,ot=N.sendEncodingParameters,Q=N.localCapabilities,c.transceivers[E].recvEncodingParameters=se,c.transceivers[E].remoteCapabilities=ke,c.transceivers[E].rtcpParameters=ge,$e.length&&be.state==="new"&&((g||st)&&(!v||E===0)?be.setRemoteCandidates($e):$e.forEach(function(U){Rr(N.iceTransport,U)})),(!v||E===0)&&(be.state==="new"&&be.start(Fe,We,"controlling"),Je.state==="new"&&Je.start(Ee));var D=An(N.localCapabilities,N.remoteCapabilities),B=D.codecs.filter(function(U){return U.name.toLowerCase()==="rtx"}).length;!B&&N.sendEncodingParameters[0].rtx&&delete N.sendEncodingParameters[0].rtx,c._transceive(N,oe==="sendrecv"||oe==="recvonly",oe==="sendrecv"||oe==="sendonly"),me&&(oe==="sendrecv"||oe==="sendonly")?(J=me.track,ne?(f[ne.stream]||(f[ne.stream]=new e.MediaStream),n(J,f[ne.stream]),u.push([J,me,f[ne.stream]])):(f.default||(f.default=new e.MediaStream),n(J,f.default),u.push([J,me,f.default]))):delete N.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=a.type==="offer"?"active":"passive"),c._remoteDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(f).forEach(function(y){var E=f[y];if(E.getTracks().length){if(c.remoteStreams.indexOf(E)===-1){c.remoteStreams.push(E);var O=new Event("addstream");O.stream=E,e.setTimeout(function(){c._dispatchEvent("addstream",O)})}u.forEach(function(w){var z=w[0],q=w[1];E.id===w[2].id&&i(c,z,q,[E])})}}),u.forEach(function(y){y[2]||i(c,y[0],y[1],[])}),e.setTimeout(function(){c&&c.transceivers&&c.transceivers.forEach(function(y){y.iceTransport&&y.iceTransport.state==="new"&&y.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),y.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(a){this.signalingState=a;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var a=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var a,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&!u.rejected&&c[u.iceTransport.state]++}),a="new",c.failed>0?a="failed":c.checking>0?a="checking":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0?a="connected":c.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var f=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",f)}},o.prototype._updateConnectionState=function(){var a,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&u.dtlsTransport&&!u.rejected&&(c[u.iceTransport.state]++,c[u.dtlsTransport.state]++)}),c.connected+=c.completed,a="new",c.failed>0?a="failed":c.connecting>0?a="connecting":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var f=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",f)}},o.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(Ce("InvalidStateError","Can not call createOffer after close"));var c=a.transceivers.filter(function(g){return g.kind==="audio"}).length,f=a.transceivers.filter(function(g){return g.kind==="video"}).length,u=arguments[0];if(u){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");u.offerToReceiveAudio!==void 0&&(u.offerToReceiveAudio===!0?c=1:u.offerToReceiveAudio===!1?c=0:c=u.offerToReceiveAudio),u.offerToReceiveVideo!==void 0&&(u.offerToReceiveVideo===!0?f=1:u.offerToReceiveVideo===!1?f=0:f=u.offerToReceiveVideo)}for(a.transceivers.forEach(function(g){g.kind==="audio"?(c--,c<0&&(g.wantReceive=!1)):g.kind==="video"&&(f--,f<0&&(g.wantReceive=!1))});c>0||f>0;)c>0&&(a._createTransceiver("audio"),c--),f>0&&(a._createTransceiver("video"),f--);var p=$.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(g,v){var C=g.track,y=g.kind,E=g.mid||$.generateIdentifier();g.mid=E,g.iceGatherer||(g.iceGatherer=a._createIceGatherer(v,a.usingBundle));var O=e.RTCRtpSender.getCapabilities(y);t<15019&&(O.codecs=O.codecs.filter(function(z){return z.name!=="rtx"})),O.codecs.forEach(function(z){z.name==="H264"&&z.parameters["level-asymmetry-allowed"]===void 0&&(z.parameters["level-asymmetry-allowed"]="1"),g.remoteCapabilities&&g.remoteCapabilities.codecs&&g.remoteCapabilities.codecs.forEach(function(q){z.name.toLowerCase()===q.name.toLowerCase()&&z.clockRate===q.clockRate&&(z.preferredPayloadType=q.payloadType)})}),O.headerExtensions.forEach(function(z){var q=g.remoteCapabilities&&g.remoteCapabilities.headerExtensions||[];q.forEach(function(oe){z.uri===oe.uri&&(z.id=oe.id)})});var w=g.sendEncodingParameters||[{ssrc:(2*v+1)*1001}];C&&t>=15019&&y==="video"&&!w[0].rtx&&(w[0].rtx={ssrc:w[0].ssrc+1}),g.wantReceive&&(g.rtpReceiver=new e.RTCRtpReceiver(g.dtlsTransport,y)),g.localCapabilities=O,g.sendEncodingParameters=w}),a._config.bundlePolicy!=="max-compat"&&(p+="a=group:BUNDLE "+a.transceivers.map(function(g){return g.mid}).join(" ")+`\r
`),p+=`a=ice-options:trickle\r
`,a.transceivers.forEach(function(g,v){p+=Bo(g,g.localCapabilities,"offer",g.stream,a._dtlsRole),p+=`a=rtcp-rsize\r
`,g.iceGatherer&&a.iceGatheringState!=="new"&&(v===0||!a.usingBundle)&&(g.iceGatherer.getLocalCandidates().forEach(function(C){C.component=1,p+="a="+$.writeCandidate(C)+`\r
`}),g.iceGatherer.state==="completed"&&(p+=`a=end-of-candidates\r
`))});var m=new e.RTCSessionDescription({type:"offer",sdp:p});return Promise.resolve(m)},o.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(Ce("InvalidStateError","Can not call createAnswer after close"));if(!(a.signalingState==="have-remote-offer"||a.signalingState==="have-local-pranswer"))return Promise.reject(Ce("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var c=$.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(c+="a=group:BUNDLE "+a.transceivers.map(function(p){return p.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var f=$.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach(function(p,m){if(!(m+1>f)){if(p.rejected){p.kind==="application"?p.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+p.protocol+` webrtc-datachannel\r
`:p.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:p.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+p.mid+`\r
`;return}if(p.stream){var g;p.kind==="audio"?g=p.stream.getAudioTracks()[0]:p.kind==="video"&&(g=p.stream.getVideoTracks()[0]),g&&t>=15019&&p.kind==="video"&&!p.sendEncodingParameters[0].rtx&&(p.sendEncodingParameters[0].rtx={ssrc:p.sendEncodingParameters[0].ssrc+1})}var v=An(p.localCapabilities,p.remoteCapabilities),C=v.codecs.filter(function(y){return y.name.toLowerCase()==="rtx"}).length;!C&&p.sendEncodingParameters[0].rtx&&delete p.sendEncodingParameters[0].rtx,c+=Bo(p,v,"answer",p.stream,a._dtlsRole),p.rtcpParameters&&p.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var u=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(u)},o.prototype.addIceCandidate=function(a){var c=this,f;return a&&!(a.sdpMLineIndex!==void 0||a.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(u,p){if(c._remoteDescription)if(!a||a.candidate==="")for(var m=0;m<c.transceivers.length&&!(!c.transceivers[m].rejected&&(c.transceivers[m].iceTransport.addRemoteCandidate({}),f=$.getMediaSections(c._remoteDescription.sdp),f[m]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=$.getDescription(c._remoteDescription.sdp)+f.join(""),c.usingBundle));m++);else{var g=a.sdpMLineIndex;if(a.sdpMid){for(var v=0;v<c.transceivers.length;v++)if(c.transceivers[v].mid===a.sdpMid){g=v;break}}var C=c.transceivers[g];if(C){if(C.rejected)return u();var y=Object.keys(a.candidate).length>0?$.parseCandidate(a.candidate):{};if(y.protocol==="tcp"&&(y.port===0||y.port===9)||y.component&&y.component!==1)return u();if((g===0||g>0&&C.iceTransport!==c.transceivers[0].iceTransport)&&!Rr(C.iceTransport,y))return p(Ce("OperationError","Can not add ICE candidate"));var E=a.candidate.trim();E.indexOf("a=")===0&&(E=E.substr(2)),f=$.getMediaSections(c._remoteDescription.sdp),f[g]+="a="+(y.type?E:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=$.getDescription(c._remoteDescription.sdp)+f.join("")}else return p(Ce("OperationError","Can not add ICE candidate"))}else return p(Ce("InvalidStateError","Can not add ICE candidate without a remote description"));u()})},o.prototype.getStats=function(a){if(a&&a instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(u){u.rtpSender&&u.rtpSender.track===a?c=u.rtpSender:u.rtpReceiver&&u.rtpReceiver.track===a&&(c=u.rtpReceiver)}),!c)throw Ce("InvalidAccessError","Invalid selector.");return c.getStats()}var f=[];return this.transceivers.forEach(function(u){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(p){u[p]&&f.push(u[p].getStats())})}),Promise.all(f).then(function(u){var p=new Map;return u.forEach(function(m){m.forEach(function(g){p.set(g.id,g)})}),p})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(a){var c=e[a];if(c&&c.prototype&&c.prototype.getStats){var f=c.prototype.getStats;c.prototype.getStats=function(){return f.apply(this).then(function(u){var p=new Map;return Object.keys(u).forEach(function(m){u[m].type=vp(u[m]),p.set(m,u[m])}),p})}}});var l=["createOffer","createAnswer"];return l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[0]=="function"||typeof f[1]=="function"?c.apply(this,[arguments[2]]).then(function(u){typeof f[0]=="function"&&f[0].apply(null,[u])},function(u){typeof f[1]=="function"&&f[1].apply(null,[u])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[1]=="function"||typeof f[2]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)},function(u){typeof f[2]=="function"&&f[2].apply(null,[u])}):c.apply(this,arguments)}}),["getStats"].forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[1]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)}):c.apply(this,arguments)}}),o};function ba(e){const t=e&&e.navigator,n=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(n(o)))}}function Ca(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function Hr(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=_p(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=mp(i.iceServers,t.version),Ei("ICE servers after filtering:",i.iceServers)),new n(i)},e.RTCPeerConnection.prototype=n.prototype}function Sa(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const Fo=Object.freeze(Object.defineProperty({__proto__:null,shimGetDisplayMedia:Ca,shimGetUserMedia:ba,shimPeerConnection:Hr,shimReplaceTrack:Sa},Symbol.toStringTag,{value:"Module"}));function Ta(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){hr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,a){l in s&&!(a in s)&&(s[a]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function bp(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Ea(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Kr(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(a=>{if(t.version<53&&!s)try{a.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((f,u)=>{a.set(u,Object.assign({},f,{type:n[f.type]||f.type}))})}return a}).then(s,l)}}function Pa(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ra(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Qt(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function xa(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){hr("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function ka(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Oa(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r.sendEncodings,s.sendEncodings=r.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function Ma(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Da(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Ia(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const $o=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Oa,shimCreateAnswer:Ia,shimCreateOffer:Da,shimGetDisplayMedia:bp,shimGetParameters:Ma,shimGetUserMedia:Ta,shimOnTrack:Ea,shimPeerConnection:Kr,shimRTCDataChannel:ka,shimReceiverGetStats:Ra,shimRemoveStream:xa,shimSenderGetStats:Pa},Symbol.toStringTag,{value:"Module"}));function Aa(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function wa(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function ja(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p},t.createAnswer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p};let l=function(a,c,f){const u=i.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u};t.setLocalDescription=l,l=function(a,c,f){const u=o.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},t.setRemoteDescription=l,l=function(a,c,f){const u=s.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},t.addIceCandidate=l}function Ba(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(La(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function La(e){return e&&e.video!==void 0?Object.assign({},e,{video:fa(e.video)}):e}function Fa(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(hr("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function $a(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Na(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function Ua(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const No=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Ua,shimCallbacksAPI:ja,shimConstraints:La,shimCreateOfferLegacy:Na,shimGetUserMedia:Ba,shimLocalStreamsAPI:Aa,shimRTCIceServerUrls:Fa,shimRemoteStreamsAPI:wa,shimTrackEventTransceiver:$a},Symbol.toStringTag,{value:"Module"}));function zn(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new t(r),o=Un.parseCandidate(r.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Qt(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function an(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const a=Un.splitSections(l.sdp);return a.shift(),a.some(c=>{const f=Un.parseMLine(c);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},r=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},i=function(l){let a=65536;return t.browser==="firefox"&&(t.version<57?l===-1?a=16384:a=2147483637:t.version<60?a=t.version===57?65535:65536:a=2147483637),a},o=function(l,a){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const f=Un.matchPrefix(l.sdp,"a=max-message-size:");return f.length>0?c=parseInt(f[0].substr(19),10):t.browser==="firefox"&&a!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=r(arguments[0]),c=i(a),f=o(arguments[0],a);let u;c===0&&f===0?u=Number.POSITIVE_INFINITY:c===0||f===0?u=Math.max(c,f):u=Math.min(c,f);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return u}}),this._sctp=p}return s.apply(this,arguments)}}function cn(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Qt(e,"datachannel",r=>(t(r.channel,r.target),r))}function Vr(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Jr(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Gn(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Cp=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Jr,shimAddIceCandidateNullOrEmpty:Gn,shimConnectionState:Vr,shimMaxMessageSize:an,shimRTCIceCandidate:zn,shimSendThrowTypeError:cn},Symbol.toStringTag,{value:"Module"}));function Sp({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=Ei,r=dp(e),i={browserDetails:r,commonShim:Cp,extractVersion:sn,disableLog:up,disableWarnings:pp};switch(r.browser){case"chrome":if(!jo||!Gr||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=jo,Gn(e,r),ua(e,r),pa(e),Gr(e,r),da(e),ya(e,r),ha(e),ma(e),ga(e),_a(e,r),zn(e),Vr(e),an(e,r),cn(e),Jr(e,r);break;case"firefox":if(!$o||!Kr||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=$o,Gn(e,r),Ta(e,r),Kr(e,r),Ea(e),xa(e),Pa(e),Ra(e),ka(e),Oa(e),Ma(e),Da(e),Ia(e),zn(e),Vr(e),an(e,r),cn(e);break;case"edge":if(!Fo||!Hr||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=Fo,ba(e),Ca(e),Hr(e,r),Sa(e),an(e,r),cn(e);break;case"safari":if(!No||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=No,Gn(e,r),Fa(e),Na(e),ja(e),Aa(e),wa(e),$a(e),Ba(e),Ua(e),zn(e),an(e,r),cn(e),Jr(e,r);break;default:n("Unsupported browser!");break}return i}const Uo=Sp({window:typeof window>"u"?void 0:window});function rt(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var xr=Uo.default||Uo,tn=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),r=this.supportedBrowsers.includes(t);return r?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return xr.browserDetails.browser},e.prototype.getVersion=function(){return xr.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=xr.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),zo={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Tp=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=zo,this.browser=tn.getBrowser(),this.browserVersion=tn.getVersion(),this.supports=function(){var t={browser:tn.isBrowserSupported(),webRTC:tn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(zo),t.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!tn.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=Do.pack,this.unpack=Do.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],r=t.size,i=Math.ceil(r/Z.chunkedMTU),o=0,s=0;s<r;){var l=Math.min(r,s+Z.chunkedMTU),a=t.slice(s,l),c={__peerData:this._dataCount,n:o,data:a,total:i};n.push(c),s=l,o++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),Z=new Tp,za={};rt(za,"Peer",()=>nr,e=>nr=e);var Pn={},Ep=Object.prototype.hasOwnProperty,xe="~";function Sn(){}Object.create&&(Sn.prototype=Object.create(null),new Sn().__proto__||(xe=!1));function Pp(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Ga(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new Pp(n,r||e,i),s=xe?xe+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Hn(e,t){--e._eventsCount===0?e._events=new Sn:delete e._events[t]}function Te(){this._events=new Sn,this._eventsCount=0}Te.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Ep.call(n,r)&&t.push(xe?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Te.prototype.listeners=function(t){var n=xe?xe+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};Te.prototype.listenerCount=function(t){var n=xe?xe+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Te.prototype.emit=function(t,n,r,i,o,s){var l=xe?xe+t:t;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,f,u;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,i),!0;case 5:return a.fn.call(a.context,n,r,i,o),!0;case 6:return a.fn.call(a.context,n,r,i,o,s),!0}for(u=1,f=new Array(c-1);u<c;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var p=a.length,m;for(u=0;u<p;u++)switch(a[u].once&&this.removeListener(t,a[u].fn,void 0,!0),c){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,i);break;default:if(!f)for(m=1,f=new Array(c-1);m<c;m++)f[m-1]=arguments[m];a[u].fn.apply(a[u].context,f)}}return!0};Te.prototype.on=function(t,n,r){return Ga(this,t,n,r,!1)};Te.prototype.once=function(t,n,r){return Ga(this,t,n,r,!0)};Te.prototype.removeListener=function(t,n,r,i){var o=xe?xe+t:t;if(!this._events[o])return this;if(!n)return Hn(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&Hn(this,o);else{for(var l=0,a=[],c=s.length;l<c;l++)(s[l].fn!==n||i&&!s[l].once||r&&s[l].context!==r)&&a.push(s[l]);a.length?this._events[o]=a.length===1?a[0]:a:Hn(this,o)}return this};Te.prototype.removeAllListeners=function(t){var n;return t?(n=xe?xe+t:t,this._events[n]&&Hn(this,n)):(this._events=new Sn,this._eventsCount=0),this};Te.prototype.off=Te.prototype.removeListener;Te.prototype.addListener=Te.prototype.on;Te.prefixed=xe;Te.EventEmitter=Te;Pn=Te;var A={};rt(A,"LogLevel",()=>Me,e=>Me=e);rt(A,"default",()=>Go,e=>Go=e);var Et=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Pt=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Rp="PeerJS: ",Me;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Me||(Me={}));var xp=function(){function e(){this._logLevel=Me.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Me.All&&this._print.apply(this,Pt([Me.All],Et(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Me.Warnings&&this._print.apply(this,Pt([Me.Warnings],Et(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Me.Errors&&this._print.apply(this,Pt([Me.Errors],Et(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Pt([Rp],Et(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=Me.All?console.log.apply(console,Pt([],Et(i),!1)):t>=Me.Warnings?console.warn.apply(console,Pt(["WARNING"],Et(i),!1)):t>=Me.Errors&&console.error.apply(console,Pt(["ERROR"],Et(i),!1))},e}(),Go=new xp,Ha={};rt(Ha,"Socket",()=>Ho,e=>Ho=e);var ze;(function(e){e.Data="data",e.Media="media"})(ze||(ze={}));var fe;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(fe||(fe={}));var lt;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(lt||(lt={}));var ut;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(ut||(ut={}));var ve;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(ve||(ve={}));var Pi={};Pi=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var kp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Op=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Mp=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Dp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ho=function(e){kp(t,e);function t(n,r,i,o,s,l){l===void 0&&(l=5e3);var a=e.call(this)||this;a.pingInterval=l,a._disconnected=!0,a._messagesQueue=[];var c=n?"wss://":"ws://";return a._baseUrl=c+r+":"+i+o+"peerjs?key="+s,a}return t.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+Pi.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),A.default.log("Server message received:",l)}catch{A.default.log("Invalid server message",s.data);return}i.emit(ut.Message,l)},this._socket.onclose=function(s){i._disconnected||(A.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(ut.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),A.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){A.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:ve.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,r,i=Mp([],Op(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=Dp(i),s=o.next();!s.done;s=o.next()){var l=s.value;this.send(l)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(ut.Error,"Invalid message");return}if(this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(Pn.EventEmitter),Wr={};rt(Wr,"MediaConnection",()=>Jo,e=>Jo=e);var Ri={};rt(Ri,"Negotiator",()=>Ko,e=>Ko=e);var er=function(){return er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},er.apply(this,arguments)},wn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(f){try{c(r.next(f))}catch(u){s(u)}}function a(f){try{c(r.throw(f))}catch(u){s(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},jn=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(f){return a([c,f])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ko=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===ze.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===ze.Data){var r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){A.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;A.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(A.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),s.socket.send({type:ve.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":A.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":A.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":A.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=Z.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},A.default.log("Listening for data channel"),t.ondatachannel=function(l){A.default.log("Received data channel");var a=l.channel,c=s.getConnection(r,i);c.initialize(a)},A.default.log("Listening for remote stream"),t.ontrack=function(l){A.default.log("Received remote stream");var a=l.streams[0],c=s.getConnection(r,i);if(c.type===ze.Media){var f=c;n._addStreamToMediaConnection(a,f)}}},e.prototype.cleanup=function(){A.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",r=!1;if(this.connection.type===ze.Data){var i=this.connection,o=i.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed")}(n||r)&&t.close()}},e.prototype._makeOffer=function(){return wn(this,void 0,Promise,function(){var t,n,r,i,o,s,l;return jn(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=a.sent(),A.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return a.sent(),A.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Z.browser},this.connection.type===ze.Data&&(o=this.connection,i=er(er({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:ve.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return s=a.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(fe.WebRTC,s),A.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=a.sent(),n.emitError(fe.WebRTC,l),A.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return wn(this,void 0,Promise,function(){var t,n,r,i,o;return jn(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=s.sent(),A.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return s.sent(),A.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:ve.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:Z.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),n.emitError(fe.WebRTC,i),A.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),n.emitError(fe.WebRTC,o),A.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return wn(this,void 0,Promise,function(){var r,i,o,s;return jn(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,A.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),A.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(fe.WebRTC,s),A.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return wn(this,void 0,Promise,function(){var n,r,i,o,s,l;return jn(this,function(a){switch(a.label){case 0:A.default.log("handleCandidate:",t),n=t.candidate,r=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return a.sent(),A.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=a.sent(),s.emitError(fe.WebRTC,l),A.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(A.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return A.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(r){n.addTrack(r,t)})},e.prototype._addStreamToMediaConnection=function(t,n){A.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),xi={};rt(xi,"BaseConnection",()=>Vo,e=>Vo=e);var Ip=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vo=function(e){Ip(t,e);function t(n,r,i){var o=e.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(Pn.EventEmitter),Ap=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tr=function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tr.apply(this,arguments)},wp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jo=function(e){Ap(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+Z.randomToken(),o._negotiator=new Ri.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return ze.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){A.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case ve.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case ve.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:A.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,r){var i,o;if(r===void 0&&(r={}),this._localStream){A.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(tr(tr({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var l=wp(s),a=l.next();!a.done;a=l.next()){var c=a.value;this.handleMessage(c)}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(xi.BaseConnection),qr={};rt(qr,"DataConnection",()=>qo,e=>qo=e);var Ka={};rt(Ka,"EncodingQueue",()=>Wo,e=>Wo=e);var jp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wo=function(e){jp(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){A.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(Pn.EventEmitter),Bp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qo=function(e){Bp(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Ka.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+Z.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||lt.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){A.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new Ri.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return ze.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!Z.supports.binaryBlob||Z.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){A.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){A.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){A.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,s=this.serialization===lt.Binary||this.serialization===lt.BinaryUTF8,l=i;if(s){if(o===Blob){Z.blobToArrayBuffer(i,function(c){var f=Z.unpack(c);r.emit("data",f)});return}else if(o===ArrayBuffer)l=Z.unpack(i);else if(o===String){var a=Z.binaryStringToArrayBuffer(i);l=Z.unpack(a)}}else this.serialization===lt.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,r){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===lt.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===lt.Binary||this.serialization===lt.BinaryUTF8){var i=Z.pack(n);if(!r&&i.size>Z.chunkedMTU){this._sendChunks(i);return}Z.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return A.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var r,i,o=Z.chunk(n);A.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=Lp(o),l=s.next();!l.done;l=s.next()){var a=l.value;this.send(a,!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case ve.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case ve.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:A.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(xi.BaseConnection),Va={};rt(Va,"API",()=>Xo,e=>Xo=e);var Yo=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(f){try{c(r.next(f))}catch(u){s(u)}}function a(f){try{c(r.throw(f))}catch(u){s(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},Qo=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(f){return a([c,f])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xo=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",r=this._options,i=r.host,o=r.port,s=r.path,l=r.key,a=new URL("".concat(n,"://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(t));return a.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),a.searchParams.set("version",Pi.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return Yo(this,void 0,Promise,function(){var t,n,r;return Qo(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=i.sent(),A.default.error("Error retrieving ID",n),r="",this._options.path==="/"&&this._options.host!==Z.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return Yo(this,void 0,Promise,function(){var t,n,r;return Qo(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===Z.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw r=i.sent(),A.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},e}(),Fp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hn=function(){return hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hn.apply(this,arguments)},nn=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$p=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},nr=function(e){Fp(t,e);function t(n,r){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=hn({debug:0,host:Z.CLOUD_HOST,port:Z.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:Z.randomToken(),config:Z.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==Z.CLOUD_HOST?i._options.secure=Z.isSecure():i._options.host==Z.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&A.default.setLogFunction(i._options.logFunction),A.default.logLevel=i._options.debug||0,i._api=new Va.API(r),i._socket=i._createServerConnection(),!Z.supports.audioVideo&&!Z.supports.data?(i._delayedAbort(fe.BrowserIncompatible,"The current browser does not support WebRTC"),i):o&&!Z.validateId(o)?(i._delayedAbort(fe.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(fe.ServerError,s)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=nn(this._connections),s=o.next();!s.done;s=o.next()){var l=$p(s.value,2),a=l[0],c=l[1];i[a]=c}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,r=new Ha.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(ut.Message,function(i){n._handleMessage(i)}),r.on(ut.Error,function(i){n._abort(fe.SocketError,i)}),r.on(ut.Disconnected,function(){n.disconnected||(n.emitError(fe.Network,"Lost connection to server."),n.disconnect())}),r.on(ut.Close,function(){n.disconnected||n._abort(fe.SocketClosed,"Underlying socket is already closed.")}),r},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var r,i,o=n.type,s=n.payload,l=n.src;switch(o){case ve.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ve.Error:this._abort(fe.ServerError,s.msg);break;case ve.IdTaken:this._abort(fe.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case ve.InvalidKey:this._abort(fe.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case ve.Leave:A.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case ve.Expire:this.emitError(fe.PeerUnavailable,"Could not connect to peer ".concat(l));break;case ve.Offer:var g=s.connectionId,v=this.getConnection(l,g);if(v&&(v.close(),A.default.warn("Offer received for existing Connection ID:".concat(g))),s.type===ze.Media){var a=new Wr.MediaConnection(l,this,{connectionId:g,_payload:s,metadata:s.metadata});v=a,this._addConnection(l,v),this.emit("call",a)}else if(s.type===ze.Data){var c=new qr.DataConnection(l,this,{connectionId:g,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});v=c,this._addConnection(l,v),this.emit("connection",c)}else{A.default.warn("Received malformed connection type:".concat(s.type));return}var f=this._getMessages(g);try{for(var u=nn(f),p=u.next();!p.done;p=u.next()){var m=p.value;v.handleMessage(m)}}catch(C){r={error:C}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}break;default:if(!s){A.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var g=s.connectionId,v=this.getConnection(l,g);v&&v.peerConnection?v.handleMessage(n):g?this._storeMessage(g,n):A.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},t.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},t.prototype.connect=function(n,r){if(r===void 0&&(r={}),this.disconnected){A.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new qr.DataConnection(n,this,r);return this._addConnection(n,i),i},t.prototype.call=function(n,r,i){if(i===void 0&&(i={}),this.disconnected){A.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){A.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new Wr.MediaConnection(n,this,hn(hn({},i),{_stream:r}));return this._addConnection(n,o),o},t.prototype._addConnection=function(n,r){A.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},t.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,r){var i,o,s=this._connections.get(n);if(!s)return null;try{for(var l=nn(s),a=l.next();!a.done;a=l.next()){var c=a.value;if(c.connectionId===r)return c}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},t.prototype._abort=function(n,r){A.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,r){A.default.error("Error:",r);var i;typeof r=="string"?i=new Error(r):i=r,i.type=n,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(A.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,r;try{for(var i=nn(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(o)try{for(var s=nn(o),l=s.next();!l.done;l=s.next()){var a=l.value;a.close()}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;A.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)A.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)A.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var r=this;n===void 0&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(fe.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(Pn.EventEmitter);za.Peer;class Np{constructor(t){Ye(this,"peerService");Ye(this,"_handlers",{});this.peerService=t}handleData(t){if(console.log("handling data",t),typeof t=="object"){this._handleDataObject(t);return}console.warn("Unknown data type",typeof t)}_handleDataObject(t){const n=this._handlers[t.type];n==null&&console.error("Unknown type for data object",t.type),n({peerService:this.peerService},t)}registerHandler(t,n){this._handlers[t]=n}}class Up{constructor(){Ye(this,"logTag","[PeerService]");Ye(this,"peer",null);Ye(this,"peerId",Le(null));Ye(this,"handler");Ye(this,"_store");Ye(this,"_initialized",!1);Ye(this,"peerConnections",Le([]))}async initSelf(t){return this.handler??(this.handler=new Np(this)),t!==void 0?this.peer??(this.peer=new nr(t,{})):this.peer??(this.peer=new nr),this._initialized?!0:new Promise((n,r)=>{if(!this.peer){console.log(this.logTag+" Peer not initialized on initSelf"),r(!1);return}this.peer.on("open",i=>{var o;this.peerId.value=i,(o=this.peer)==null||o.on("connection",s=>{this.initPeer(s)}),this._initialized=!0,n(!0)})})}initPeer(t){if(!this.peer){console.error(this.logTag+" Peer not initialized");return}if(this.peerConnections.value.filter(n=>n.peer===t.peer).length>0){console.log(this.logTag+" Connection already exists, peer id: ",t.peer);return}t==null||t.on("open",()=>{console.log(`${this.logTag} New connection from peer ${t.peer} established`),t.on("data",n=>{this.handler.handleData(n)}),t.on("close",()=>{console.log(this.logTag+" Connection from peer closed, peer id: ",t.peer),this.peerConnections.value=this.peerConnections.value.filter(n=>n.peer!==t.peer)}),this.peerConnections.value.length>0&&(console.info(this.logTag+" Sending room information to peer",t.peer),t.send({type:"room_information",data:{peers:this.peerConnections.value.map(n=>n.peer)}})),this.peerConnections.value.push(t)})}connectToPeer(t){if(!this.peer)return console.error(this.logTag+" Peer not initialized"),!1;const n=this.peer.connect(t);return n.peerConnection.connectionState==="failed"&&console.warn(this.logTag+" Could not connect to peer: ",t),this.initPeer(n),!0}closeAllConnections(){this.peerConnections.value.forEach(t=>{t.close()})}destroy(){this.closeAllConnections(),this.peer.destroy()}send(t){for(const n of this.peerConnections.value)n.send(t)}}const zp={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","&":"&amp;"};let Gp=0;var Hp=e=>e.replace(/[<>"&]/g,t=>zp[t]||t),Kp=e=>e+Gp++;const Ot={},Vp=e=>{const{name:t,paths:n=[],d:r,polygons:i=[],points:o}=e;r&&n.push({d:r}),o&&i.push({points:o}),Ot[t]=Object.assign({},e,{paths:n,polygons:i}),Ot[t].minX||(Ot[t].minX=0),Ot[t].minY||(Ot[t].minY=0)},Jp=(...e)=>{for(const t of e)Vp(t)},Wp=Tn({name:"OhVueIcon",props:{name:{type:String,validator:e=>!e||e in Ot||(console.warn(`Invalid prop: prop "name" is referring to an unregistered icon "${e}".
Please make sure you have imported this icon before using it.`),!1)},title:String,fill:String,scale:{type:[Number,String],default:1},animation:{validator:e=>["spin","spin-pulse","wrench","ring","pulse","flash","float"].includes(e)},hover:Boolean,flip:{validator:e=>["horizontal","vertical","both"].includes(e)},speed:{validator:e=>e==="fast"||e==="slow"},label:String,inverse:Boolean},setup(e){const t=Le([]),n=dt({outerScale:1.2,x:null,y:null}),r=dt({width:0,height:0}),i=ae(()=>{const v=Number(e.scale);return isNaN(v)||v<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),n.outerScale):v*n.outerScale}),o=ae(()=>({"ov-icon":!0,"ov-inverse":e.inverse,"ov-flip-horizontal":e.flip==="horizontal","ov-flip-vertical":e.flip==="vertical","ov-flip-both":e.flip==="both","ov-spin":e.animation==="spin","ov-spin-pulse":e.animation==="spin-pulse","ov-wrench":e.animation==="wrench","ov-ring":e.animation==="ring","ov-pulse":e.animation==="pulse","ov-flash":e.animation==="flash","ov-float":e.animation==="float","ov-hover":e.hover,"ov-fast":e.speed==="fast","ov-slow":e.speed==="slow"})),s=ae(()=>e.name?Ot[e.name]:null),l=ae(()=>s.value?`${s.value.minX} ${s.value.minY} ${s.value.width} ${s.value.height}`:`0 0 ${c.value} ${f.value}`),a=ae(()=>{if(!s.value)return 1;const{width:v,height:C}=s.value;return Math.max(v,C)/16}),c=ae(()=>r.width||s.value&&s.value.width/a.value*i.value||0),f=ae(()=>r.height||s.value&&s.value.height/a.value*i.value||0),u=ae(()=>i.value!==1&&{fontSize:i.value+"em"}),p=ae(()=>{if(!s.value||!s.value.raw)return null;const v={};let C=s.value.raw;return C=C.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(y,E,O)=>{const w=Kp("vat-");return v[O]=w,` id="${w}"`}),C=C.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(y,E,O,w)=>{const z=E||w;return z&&v[z]?`#${v[z]}`:y}),C}),m=ae(()=>s.value&&s.value.attr?s.value.attr:{}),g=()=>{if(!e.name&&e.name!==null&&t.value.length===0)return void console.warn('Invalid prop: prop "name" is required.');if(s.value)return;let v=0,C=0;t.value.forEach(y=>{y.outerScale=i.value,v=Math.max(v,y.width),C=Math.max(C,y.height)}),r.width=v,r.height=C,t.value.forEach(y=>{y.x=(v-y.width)/2,y.y=(C-y.height)/2})};return gi(()=>{g()}),Is(()=>{g()}),{...Hc(n),children:t,icon:s,klass:o,style:u,width:c,height:f,box:l,attribs:m,raw:p}},created(){const e=this.$parent;e&&e.children&&e.children.push(this)},render(){const e=Object.assign({role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":!(this.label||this.title),width:this.width,height:this.height,viewBox:this.box},this.attribs);this.attribs.stroke?e.stroke=this.fill?this.fill:"currentColor":e.fill=this.fill?this.fill:"currentColor",this.x&&(e.x=this.x.toString()),this.y&&(e.y=this.y.toString());let t={class:this.klass,style:this.style};if(t=Object.assign(t,e),this.raw){const i=this.title?`<title>${Hp(this.title)}</title>${this.raw}`:this.raw;t.innerHTML=i}const n=this.title?[un("title",this.title)]:[],r=(i,o,s)=>un(i,{...o,key:`${i}-${s}`});return un("svg",t,this.raw?void 0:n.concat([this.$slots.default?this.$slots.default():this.icon?[...this.icon.paths.map((i,o)=>r("path",i,o)),...this.icon.polygons.map((i,o)=>r("polygon",i,o))]:[]]))}});function ki(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}ki(`.ov-icon {
  display: inline-block;
  overflow: visible;
  vertical-align: -0.2em;
}
`);ki(`/* ---------------- spin ---------------- */
.ov-spin:not(.ov-hover),
.ov-spin.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-spin {
  animation: ov-spin 1s linear infinite;
}

.ov-spin:not(.ov-hover).ov-fast,
.ov-spin.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-spin.ov-fast {
  animation: ov-spin 0.7s linear infinite;
}

.ov-spin:not(.ov-hover).ov-slow,
.ov-spin.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-spin.ov-slow {
  animation: ov-spin 2s linear infinite;
}

/* ---------------- spin-pulse ---------------- */

.ov-spin-pulse:not(.ov-hover),
.ov-spin-pulse.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-spin-pulse {
  animation: ov-spin 1s infinite steps(8);
}

.ov-spin-pulse:not(.ov-hover).ov-fast,
.ov-spin-pulse.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-spin-pulse.ov-fast {
  animation: ov-spin 0.7s infinite steps(8);
}

.ov-spin-pulse:not(.ov-hover).ov-slow,
.ov-spin-pulse.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-spin-pulse.ov-slow {
  animation: ov-spin 2s infinite steps(8);
}

@keyframes ov-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* ---------------- wrench ---------------- */
.ov-wrench:not(.ov-hover),
.ov-wrench.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-wrench {
  animation: ov-wrench 2.5s ease infinite;
}

.ov-wrench:not(.ov-hover).ov-fast,
.ov-wrench.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-wrench.ov-fast {
  animation: ov-wrench 1.2s ease infinite;
}

.ov-wrench:not(.ov-hover).ov-slow,
.ov-wrench.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-wrench.ov-slow {
  animation: ov-wrench 3.7s ease infinite;
}

@keyframes ov-wrench {
  0% {
    transform: rotate(-12deg);
  }

  8% {
    transform: rotate(12deg);
  }

  10%, 28%, 30%, 48%, 50%, 68% {
    transform: rotate(24deg);
  }

  18%, 20%, 38%, 40%, 58%, 60% {
    transform: rotate(-24deg);
  }

  75%, 100% {
    transform: rotate(0deg);
  }
}

/* ---------------- ring ---------------- */
.ov-ring:not(.ov-hover),
.ov-ring.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-ring {
  animation: ov-ring 2s ease infinite;
}

.ov-ring:not(.ov-hover).ov-fast,
.ov-ring.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-ring.ov-fast {
  animation: ov-ring 1s ease infinite;
}

.ov-ring:not(.ov-hover).ov-slow,
.ov-ring.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-ring.ov-slow {
  animation: ov-ring 3s ease infinite;
}

@keyframes ov-ring {
  0% {
    transform: rotate(-15deg);
  }

  2% {
    transform: rotate(15deg);
  }

  4%, 12% {
    transform: rotate(-18deg);
  }

  6% {
    transform: rotate(18deg);
  }

  8% {
    transform: rotate(-22deg);
  }

  10% {
    transform: rotate(22deg);
  }

  12% {
    transform: rotate(-18deg);
  }

  14% {
    transform: rotate(18deg);
  }

  16% {
    transform: rotate(-12deg);
  }

  18% {
    transform: rotate(12deg);
  }

  20%, 100% {
    transform: rotate(0deg);
  }
}

/* ---------------- pulse ---------------- */
.ov-pulse:not(.ov-hover),
.ov-pulse.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-pulse {
  animation: ov-pulse 2s linear infinite;
}

.ov-pulse:not(.ov-hover).ov-fast,
.ov-pulse.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-pulse.ov-fast {
  animation: ov-pulse 1s linear infinite;
}

.ov-pulse:not(.ov-hover).ov-slow,
.ov-pulse.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-pulse.ov-slow {
  animation: ov-pulse 3s linear infinite;
}

@keyframes ov-pulse {
  0% {
    transform: scale(1.1);
  }

  50% {
    transform: scale(0.8);
  }

  100% {
    transform: scale(1.1);
  }
}

/* ---------------- flash ---------------- */
.ov-flash:not(.ov-hover),
.ov-flash.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-flash {
  animation: ov-flash 2s ease infinite;
}

.ov-flash:not(.ov-hover).ov-fast,
.ov-flash.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-flash.ov-fast {
  animation: ov-flash 1s ease infinite;
}

.ov-flash:not(.ov-hover).ov-slow,
.ov-flash.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-flash.ov-slow {
  animation: ov-flash 3s ease infinite;
}

@keyframes ov-flash {
  0%, 100%, 50%{
    opacity: 1;
  }
  25%, 75%{
    opacity: 0;
  }
}

/* ---------------- float ---------------- */
.ov-float:not(.ov-hover),
.ov-float.ov-hover:hover,
.ov-parent.ov-hover:hover > .ov-float {
  animation: ov-float 2s linear infinite;
}

.ov-float:not(.ov-hover).ov-fast,
.ov-float.ov-hover.ov-fast:hover,
.ov-parent.ov-hover:hover > .ov-float.ov-fast {
  animation: ov-float 1s linear infinite;
}

.ov-float:not(.ov-hover).ov-slow,
.ov-float.ov-hover.ov-slow:hover,
.ov-parent.ov-hover:hover > .ov-float.ov-slow {
  animation: ov-float 3s linear infinite;
}

@keyframes ov-float {
  0%, 100% {
    transform: translateY(-3px);
  }
  50% {
    transform: translateY(3px);
  }
}
`);ki(`.ov-flip-horizontal {
  transform: scale(-1, 1);
}

.ov-flip-vertical {
  transform: scale(1, -1);
}

.ov-flip-both {
  transform: scale(-1, -1);
}

.ov-inverse {
  color: #fff;
}
`);const qp={name:"fa-cat",minX:-43.52,minY:-43.52,width:599.04,height:599.04,raw:'<path d="M290.59 192c-20.18 0-106.82 1.98-162.59 85.95V192c0-52.94-43.06-96-96-96-17.67 0-32 14.33-32 32s14.33 32 32 32c17.64 0 32 14.36 32 32v256c0 35.3 28.7 64 64 64h176c8.84 0 16-7.16 16-16v-16c0-17.67-14.33-32-32-32h-32l128-96v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V289.86c-10.29 2.67-20.89 4.54-32 4.54-61.81 0-113.52-44.05-125.41-102.4zM448 96h-64l-64-64v134.4c0 53.02 42.98 96 96 96s96-42.98 96-96V32l-64 64zm-72 80c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16zm80 0c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16z"/>'},Yp={name:"gi-seated-mouse",minX:-35.84,minY:-35.84,width:583.68,height:583.68,raw:'<path d="M240.125 23.563c-14.745.33-28.994 8.14-36.906 21.843-3.423 5.926-6.234 17.854-8.532 31.907-36.383 8.417-75.868 48.232-93.375 94.406 29.49 11.05 58.933 14.183 84.312 11.436-59.315 98.734-49.44 208.705 47.72 208.72 9.06 0 17.345-.91 24.874-2.688 57.812 24.78 100.79 13.996 122.81-13.438 22.414-27.923 22.947-69.86 3.314-102.438-17.974-29.824-26.618-53.295-26.03-69.968.585-16.674 8.498-28.14 29.873-38.875l-8.375-16.69c-25.082 12.596-39.368 31.652-40.187 54.907-.82 23.256 9.914 49.13 28.688 80.282 15.827 26.262 14.738 60.395-1.875 81.092-14.44 17.992-40.735 28.253-83.344 14.563 53.146-35.285 41.39-134.655-19.906-220.188 8.096 2.605 14.99 4.22 19.625 4.22 24.115-.003 43.687-19.543 43.687-43.657 0-23.737-18.97-43.027-42.563-43.625 3.36-17.73-4.552-36.437-21.062-45.97-7.178-4.143-15.026-6.016-22.75-5.843zM99.595 360.219C49.44 373.845 17.03 394.014 17.03 416.405c0 41.018 106.547 74.375 237.72 74.375s237.688-33.356 237.688-74.374c0-22.31-32.125-42.56-81.97-56.187C427.7 369.097 438 379.46 438 390.655c0 32.13-82.313 58.563-183.25 58.563S72.094 422.783 72.094 390.655c0-11.254 10.093-21.528 27.5-30.437z"/>'};Jp(qp,Yp);const Rn=Pf(Au);Rn.component("v-icon",Wp);Rn.use(Of());Rn.use(Nn);Rn.mount("#app");const Ja=new Up;Rn.provide("peerService",Ja);window.addEventListener("pagehide",()=>{Ja.destroy()});export{Zp as A,ft as F,Hs as a,je as b,ae as c,Tn as d,zl as e,td as f,nd as g,_i as h,tt as i,De as j,ed as k,Le as l,rd as m,Qr as n,pl as o,Ln as p,id as q,Nn as r,Xr as s,Xp as t,et as u,Hc as v,zt as w,$l as x,Uc as y,dt as z};
